{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bases de donn\u00e9es 2","text":""},{"location":"#cegep-de-victoriaville","title":"C\u00e9gep de Victoriaville","text":""},{"location":"#bases-de-donnees-2-420-3b4-vi-automne-2024","title":"Bases de donn\u00e9es 2 (420-3B4-VI) - Automne 2024","text":""},{"location":"#introduction","title":"Introduction","text":"<p>Vous trouverez ici les notes et exercices du cours. J'ajouterai du nouveau contenu continuellement.</p> <p>Pr\u00e9alable \u00e0 ce cours : 420-2B4-VI Bases de donn\u00e9es 1</p> <p>Ce cours est pr\u00e9alable \u00e0 : 420-4C4-VI : M\u00e9gadonn\u00e9es (efficacit\u00e9 des traitements sur de grands ensembles et base de donn\u00e9es NoSQL) 420-4B4-VI : Conception de syst\u00e8mes (mod\u00e9lisation et analyse)</p> <p>Cheminement complet: https://informatique.apical.xyz/</p>"},{"location":"#environnement-de-travail","title":"Environnement de travail","text":"<p>Afin d\u2019utiliser MySQL vous devez installer deux logiciels :</p> <ul> <li>AMPPS, qui contient MySQL Server (install\u00e9 aussi dans le cours de bases de donn\u00e9es 1)</li> <li>DBeaver, un outil de gestion de base de donn\u00e9es</li> </ul>"},{"location":"#ampps","title":"AMPPS","text":"<p>AMPPS est une pile Apache (Apache, MySQL, Php, Perl et d\u2019autres) disponible \u00e0 https://ampps.com/</p> <p>Note : si vous avez une erreur en lien avec \u00ab Microsoft c++ redistributable \u00bb, lisez les d\u00e9tails de l\u2019erreur. S\u2019il est indiqu\u00e9 qu\u2019une autre version est d\u00e9j\u00e0 install\u00e9e, c\u2019est probablement une version plus r\u00e9cente, ce qui est sans cons\u00e9quence.</p> <p>Une fois install\u00e9, vous n\u2019avez qu\u2019\u00e0 le lancer pour voir appara\u00eetre cette petite fen\u00eatre au bas \u00e0 droite de votre \u00e9cran. Le statut de MySQL devrait \u00eatre vert (\u00e7a peut prendre quelques secondes apr\u00e8s le d\u00e9marrage pour passer du rouge au vert, c\u2019est normal).</p> <p></p> <p>Note: si vous voulez, vous pouvez configurer AMPPS pour qu'il d\u00e9marre automatiquement \u00e0 l'ouverture de votre session Windows. Sinon vous devrez le d\u00e9marrer manuellement.</p>"},{"location":"apropos/","title":"\u00c0 propos du site du cours de bases de donn\u00e9es 2","text":"<p>Version originale du site par Mathieu Fr\u00e9chette (2023) Mise \u00e0 jour en 2024 par \u00c9tienne Rivard  </p>"},{"location":"horaire/","title":"Horaire du cours de bases de donn\u00e9es 2","text":"Semaine Cours Date Sujet Exercice 1 1 2023-08-21 Pr\u00e9sentation du cours DBeaver Exercice 01 - Revision MySQL 1 2 2023-08-23 Retour sur exercice 01Introduction mod\u00e9lisationMod\u00e8le Entit\u00e9-AssociationSch\u00e9ma conceptuelTypes de relationsExercice 02 \u00e0 faire ensembleNormalisation Exercice 02 - Syst\u00e8me de prise de pr\u00e9sence en cours 2 3 2023-08-28 Exercice 03 - Le syst\u00e8me de stationnement du c\u00e9gep (partie A)Th\u00e9orie sur les diagrammes de classesPr\u00e9sentation de l'outil drawioConvention de nommage MySQLExercice 03B - Cr\u00e9er le diagramme de classes du syst\u00e8me Exercice 03 - Syst\u00e8me de stationnement du c\u00e9gep 2 4 2023-08-30 Retour sur l'exercice 03Cr\u00e9ation d'une base de donn\u00e9esExercice 04 - Livre de recette Exercice 04 - Mod\u00e9lisation d'un livre de recettes 3 5 2023-09-06 Retour sur l'exercice 04[Insertion&gt;(mysql/insertion.md) + Exercice 05Vues + Exercice 06 Exercice 05 - Exercice sur les INSERTsExercice 06 - Exercice sur les VIEWs 3 6 2023-09-11 D\u00e9clencheurs Exercice 07 - Exercice sur les TRIGGERs 4 7 2023-09-13 \u00c9valuation formative formelle 4 8 2023-09-18 Retour sur formatif  FonctionsExercice 08Types de jointures Exercice 08 - Exercice sur les fonctions 5 9 2023-09-20 Proc\u00e9dures stock\u00e9esTransactionsGestion des erreursCurseursExercice 09 Exercice 09 - Cr\u00e9dit social 5 10 2023-09-25 Finaliser Exercice 09 Exercice 09 - Cr\u00e9dit social 6 11 2023-09-27 R\u00e9vision 6 12 2023-10-02 Examen 1 (35%) 7 13 2023-10-16 Retour sur l'examen 1Retour sur les curseurs et la gestion d'erreurs, les joins et unionExercice 10 Exercice 10 - Exercice sur les curseurs 7 14 2023-10-18 UtilisateursAutorisationsR\u00f4lesExercice 11 Exercice 11 - Gestion des utilisateurs 8 15 2023-10-23 Installation de PythonUtilisation du connecteur MySQLExercice 12 Exercice 12 - pyCRUD 8 16 2023-10-25 Exercice 12 Exercice 12 - pyCRUD 9 17 2023-10-30 D\u00e9but projet long 9 18 2023-11-01 projet long 10 19 2023-11-06 projet long 10 20 2023-11-09 projet long 11 21 2023-11-13 projet long 11 22 2023-11-15 projet long 12 23 2023-11-20 projet long 12 24 2023-11-22 projet long 13 25 2023-11-27 Pr\u00e9sentation et remise du projet long (15%) 13 26 2023-11-29 R\u00e9vision analyse 14 27 2023-12-04 Formatif partie 1 14 28 2023-12-06 Formatif partie 2 15 29 2023-12-11 \u00c9valuation finale partie 1 15 30 2023-12-15 \u00c9valuation finale partie 2"},{"location":"evaluations/analyse_revision_a/","title":"Analyse - R\u00e9vision A","text":""},{"location":"evaluations/analyse_revision_a/#mise-en-situation","title":"Mise en situation","text":"<p>\u00c0 partir de l'image suivante, vous devez mod\u00e9liser le syst\u00e8me de facturation d'un garage de voiture.</p> <p></p>"},{"location":"evaluations/analyse_revision_a/#precisions","title":"Pr\u00e9cisions","text":"<ul> <li>Seulement les informations surlign\u00e9es en jaunes doivent \u00eatre sauvegard\u00e9s (ou peuvent \u00eatre reproduit exactement avec les autres informations sauvegard\u00e9es).</li> <li>Le nombre 2134521 situ\u00e9 au-dessus du nom \"Michael Scott\" est le code de ce client.</li> <li>La description du v\u00e9hicule est un champs texte associ\u00e9 au compte du client. Le client peut avoir plus d'un v\u00e9hicule associ\u00e9 \u00e0 son compte.</li> <li>La case PLAQUE est le num\u00e9ro de la plaque d'immatriculation du v\u00e9hicule</li> <li>Les trois champs ODO ... repr\u00e9sente trois prise de l'odom\u00e8tre du v\u00e9hicule durant le travail factur\u00e9.</li> <li>Dans le d\u00e9tail de la facture : <ul> <li>Le texte \"Remettre Pneus dans l'auto\" est un texte global \u00e0 la facture que le commis a entr\u00e9 manuellement.</li> <li>Il y a trois ligne de d\u00e9tail, chacune commen\u00e7ant par une quantit\u00e9 et un code de produit.</li> <li>Le texte \"N'oubliez pas la rotation... \" est aussi un texte globale \u00e0 la facture qu'un commis a entr\u00e9 manuellement.</li> <li>On peu payer la facture selon plus d'un mode de paiement. Donc \u00e0 la ligne \"M\u00e9thode de paiement. Visa=730.92$\" on pourrait retrouver plus d'un mode de paiement avec le montant pour chaque mode.</li> </ul> </li> <li>Les \"produits\" sont class\u00e9s en trois cat\u00e9gorie : Pi\u00e8ces, Main-d'\u0153uvre (M.O.) et autre. Un produit ne peut avoir qu'une cat\u00e9gorie.</li> <li>Dans la table facturation, ajoutez deux colonnes, date_creation (type date) et user_creation (type varchar) qui seront remplies automatiquement avec un d\u00e9clencheur.</li> </ul>"},{"location":"evaluations/analyse_revision_a/#schema-conceptuelle-et-diagramme-de-classe","title":"Sch\u00e9ma conceptuelle et diagramme de classe","text":"<p>Produisez sch\u00e9ma conceptuelle et un diagramme de classes \u00e0 partir du syst\u00e8me d\u00e9crit plus haut.</p> <p>Les deux diagrammes doivent respecter les normes de conception et la troisi\u00e8me forme normale.</p>"},{"location":"evaluations/analyse_revision_a/#interrogation-des-donnees","title":"Interrogation des donn\u00e9es","text":"<p>Un fois vos 2 diagrammes termin\u00e9s, t\u00e9l\u00e9chargez et ex\u00e9cutez le script suivant : revision_analyse.sql. Il contient la cr\u00e9ation de la base de donn\u00e9es, des tables et l'insertion des donn\u00e9es de ma version de cet exercice.</p> <p>\u00c9crivez une requ\u00eate qui va permettre de reproduire l'affichage de la section d\u00e9tail de la facture plus haut. Le r\u00e9sultat doit ressembler \u00e0 celui-ci : </p> <p></p> <p>Ensuite ajoutez la ligne o\u00f9 il est question de la m\u00e9thode de paiement \u00e0 l'aide d'un UNION. Vous devez avoir ce r\u00e9sultat: </p> <p></p>"},{"location":"evaluations/evaluation_formative_formelle/","title":"\u00c9valuation formative formelle","text":""},{"location":"evaluations/evaluation_formative_formelle/#consignes","title":"Consignes","text":"<ul> <li>Vous avez droit \u00e0 toutes vos notes et Internet.</li> <li>Aucune communication n'est permise (messagerie, courriel, etc.). Un \u00e9l\u00e8ve pris en flagrant d\u00e9lit se verra attribuer la note de 0 pour plagiat.</li> <li>La dur\u00e9e de l'examen est de 1h50.</li> <li>Une fois l\u2019examen termin\u00e9, vous devez me remettre vos fichiers image via le devoir de l\u2019examen sur Teams. </li> <li>Il est de votre devoir de vous assurer que votre fichier est inclus dans la remise. Aucun fichier ne sera accept\u00e9 une fois que vous aurez quitt\u00e9 le lieu de l'examen. </li> </ul>"},{"location":"evaluations/evaluation_formative_formelle/#mise-en-situation","title":"Mise en situation","text":"<p>Le centre de recherche xLabs se sp\u00e9cialise dans des recherches dites marginales. Elle emploie une pl\u00e9thore de cobayes pour ses diff\u00e9rents projets et pr\u00e9sentement il est difficile de garder une trace de l'\u00e9tat de tous ces \"volontaires\". La direction vous a donn\u00e9 le mandat de mod\u00e9liser leur op\u00e9ration.</p> <p>Pour chaque cobaye, on veut connaitre sa date de naissance, la date \u00e0 laquelle il a commenc\u00e9 sa premi\u00e8re exp\u00e9rience et aussi sa date de d\u00e9c\u00e8s s'il y a lieu, car chez xlabs on est cobaye \u00e0 vie. Un surnom et un num\u00e9ro d'identification unique est attribu\u00e9 aux cobayes. Par contre ce num\u00e9ro peut \u00eatre r\u00e9utilis\u00e9 \u00e0 la mort du cobaye.</p> <p>Les cobayes peuvent participer \u00e0 plus d'une exp\u00e9rience \u00e0 la fois et chaque exp\u00e9rience doit comporter au minimum un cobaye mais peut en avoir plusieurs. On veut connaitre la date de d\u00e9but et de fin de la participation de chaque cobaye \u00e0 chaque exp\u00e9rience. Chaque exp\u00e9rience \u00e0 un titre, un niveau de s\u00e9curit\u00e9 qui se situe entre 0 et 10 et une courte description qui d\u00e9fini le sujet de l'exp\u00e9rience. Un ou plusieurs chercheurs peuvent \u00eatre associ\u00e9s \u00e0 une exp\u00e9rience et un chercheur peut participer \u00e0 plus d'une exp\u00e9rience \u00e0 la fois. Parmi les chercheurs impliqu\u00e9s, un r\u00f4le est attribu\u00e9 \u00e0 chacun. Il y a pr\u00e9sentement trois r\u00f4les disponible (directeur de recherche, assistant, appariteur) mais il n'est pas impossible que \u00e7a change dans l'avenir. Le r\u00f4le d'un chercheur peut aussi varier d'une exp\u00e9rience \u00e0 l'autre. Au niveau des chercheurs, on veut connaitre uniquement leur nom et leur num\u00e9ro d'identification personnelle. </p> <p>Durant le temps que dure une exp\u00e9rience, les chercheurs vont faire des observations. Pour chaque observation, il y a un chercheur impliqu\u00e9, un cobaye, une exp\u00e9rience, une date d'observation et les notes de l'observation. </p> <p>Afin de s'assurer de la bonne rentabilit\u00e9 des cobayes, un chercheur effectue chaque jour une \u00e9valuation g\u00e9n\u00e9rale de ceux-ci. L'\u00e9valuation consiste uniquement en une prise de notes. On veut donc conserver pour chaque \u00e9valuation le cobaye \u00e9valu\u00e9, le chercheur impliqu\u00e9, la date de l'\u00e9valuation ainsi que les notes prises. </p>"},{"location":"evaluations/evaluation_formative_formelle/#directives","title":"Directives","text":"<p>\u00c0 partir de cette mise en situation vous devez cr\u00e9er: </p> <ol> <li>Un schema conceptuel en format image portant le nom NomPrenom_shema</li> <li>Un diagramme de classes en format image portant le nom NomPrenom_diagramme</li> <li>Un script de cr\u00e9ation des tables portant le nom NomPrenom_script</li> </ol>"},{"location":"evaluations/evaluation_formative_formelle/#schema-conceptuelle","title":"Sch\u00e9ma conceptuelle","text":"<ul> <li>La multiplicit\u00e9 des associations doit \u00eatre inscrite. </li> </ul>"},{"location":"evaluations/evaluation_formative_formelle/#diagramme-de-classes","title":"Diagramme de classes","text":"<ul> <li>Votre diagramme doit r\u00e9pondre aux r\u00e8gles de la troisi\u00e8me forme normale.</li> <li>Vous devez respecter la convention de nomenclature telle que d\u00e9crite dans les notes de cours \"Convention de nommage MySQL\".</li> </ul>"},{"location":"evaluations/evaluation_formative_formelle/#script-sql","title":"Script SQL","text":"<ul> <li>Le script SQL doit pouvoir \u00eatre lanc\u00e9 \u00e0 plusieurs reprises sans causer d'erreurs.</li> <li>Vous devez cr\u00e9er toutes les tables et les champs de votre diagramme.</li> <li>Les cl\u00e9s primaires et \u00e9trang\u00e8res doivent aussi \u00eatre cr\u00e9es.</li> </ul>"},{"location":"evaluations/evaluation_formative_formelle/#grille-de-correction","title":"Grille de correction","text":"\u00c9l\u00e9ments Atteint Satisfaisant Faible Non-atteint Sh\u00e9ma conceptuel Le sch\u00e9ma respecte la mise en situation 40 28 16 0 La multiplicit\u00e9 des associations est juste 10 7 4 0 Le sch\u00e9ma respecte les normes de conception 5 4 2 0 Diagramme de classes Les relations entrent les tables sont juste 10 7 4 0 Le diagramme respecte la troisi\u00e8me forme normale 10 7 4 0 Les type de donn\u00e9es sont juste 10 7 4 0 Script SQL Le script peut \u00eatre lanc\u00e9 sans causer d'erreurs 5 4 2 0 Toutes les informations n\u00e9cessaires sont cr\u00e9\u00e9es 10 7 4 0"},{"location":"evaluations/examen01_revision_a/","title":"Examen 1 - R\u00e9vision A","text":""},{"location":"evaluations/examen01_revision_a/#consignes","title":"Consignes","text":"<p>\u00c0 partir de la mise en situation suivante, vous devez produire un ==sch\u00e9ma conceptuel== qui r\u00e9pondra aux normes suivantes: </p> <ul> <li>Le sch\u00e9ma respecte les exigences de la mise en situation.</li> <li>La multiplicit\u00e9 des associations est juste.</li> <li>Le sch\u00e9ma respecte les normes de conception.</li> </ul> <p>On va faire une auto-correction de vos sch\u00e9mas ensemble en classe.</p>"},{"location":"evaluations/examen01_revision_a/#mise-en-situation","title":"Mise en situation","text":"<p>L'entreprise qui vous emploie d\u00e9veloppe une plateforme Web de vente de musique appel\u00e9e GroupCamp. Le principe du service est que les artistes  peuvent proposer leur album au prix qu'ils d\u00e9cident. L'acheteur peut ensuite d\u00e9cider de payer le prix demand\u00e9 ou bien plus cher s'il veut encourager  l'artiste. Vous \u00eates en charge de produire une premi\u00e8re \u00e9bauche d'enregistrement des informations dans une base de donn\u00e9es MySQL. Pour l'instant, tout le volet transactionnel et s\u00e9curit\u00e9 ne sera pas pris en charge par votre mod\u00e8le, ==vous devez seulement vous concentrer sur les \u00e9l\u00e9ments suivants==.</p> <p>Les artistes seront invit\u00e9s \u00e0  s'inscrire \u00e0 notre service en nous fournissant leur nom (nom d'artiste ou nom du groupe), une image qui les  repr\u00e9sente ainsi que la localisation d'o\u00f9 ils proviennent. La localisation est  un court texte o\u00f9 ils peuvent entrer une information du genre \"Victoriaville,  Qu\u00e9bec\", \"Californie\", \"Le garage chez Fred\", etc. </p> <p>Ensuite bien s\u00fbr les artistes vont nous informer sur les albums qui vont mettre en vente. Chaque album  comporte un titre, une description, une date de parution et une image. Que ce soit pour l'image de l'artiste ou de l'album, nous allons sauvegarder l'URL de l'image qui sera stock\u00e9e sur un de nos serveurs. L'artiste va aussi nous indiquer le prix minimum qu'il demande pour l'album. Pour l'instant, tous les  montants seront en devise canadienne. L'album comportera une ou plusieurs pistes, dont on enregistrera son titre, son ordre dans l'album et sa dur\u00e9e en secondes.</p> <p>Pour chaque album l'artiste  peut ajouter une s\u00e9rie de mots-cl\u00e9s qui d\u00e9finit le type de musique de l'album.  Il pourra choisir parmi la liste des mots-cl\u00e9s de tous les albums de tous les artistes ou en entrer de nouveaux. Le but \u00e9tant de permettre ensuite \u00e0 l'utilisateur de faire une recherche par mot-cl\u00e9. Cette option n'est pas obligatoire, l'artiste pourrait n\u2019en ajouter aucun \u00e0 l'album. Les mots-cl\u00e9s peuvent aussi varier d'un album \u00e0 l'autre du m\u00eame artiste. De plus, parmi tous les mots-cl\u00e9s choisis pour l'album, l'artiste peut en d\u00e9finir un qui sera \"principal\", ce mot-cl\u00e9 sera mis de l'avant \u00e0 l'affichage et lors des recherches. Un album ne peut pas avoir plus d'un mot-cl\u00e9 principal.</p> <p>Parlons maintenant du volet utilisateur. N'importe qui peut se cr\u00e9er un compte sur notre service. La personne devra nous fournir un nom d'usager et si elle le veut un court texte d'un maximum de 500 caract\u00e8res qui la d\u00e9crit. Le nom d'usager doit \u00eatre unique dans la base de donn\u00e9es.</p> <p>Quand un utilisateur ach\u00e8te un album, celui-ci va \u00eatre stock\u00e9 dans sa \"collection\". On va y sauvegarder le prix que l'usager a pay\u00e9. Il pourra aussi s'il le d\u00e9cide indiquer sa piste pr\u00e9f\u00e9r\u00e9e de l'album et laisser un commentaire sur l'album en g\u00e9n\u00e9rale qui sera affich\u00e9 sur la page de description de l'album. L'usager aura aussi la possibilit\u00e9 de se  cr\u00e9er une liste de souhaits d'album qu'il aime, mais qu'il n'a pas encore achet\u00e9. Dans ce cas, on enregistre uniquement un lien vers l'album. Si l'usager ach\u00e8te un album de sa liste de souhaits, il disparaitra de celle-ci.</p>"},{"location":"evaluations/projet_long/","title":"Projet long","text":""},{"location":"evaluations/projet_long/#enonce-devaluation-creation-dune-application-de-gestion-de-pizzeria-en-python-et-mysql","title":"\u00c9nonc\u00e9 d'\u00c9valuation : Cr\u00e9ation d'une Application de Gestion de Pizzeria en Python et MySQL","text":""},{"location":"evaluations/projet_long/#contexte","title":"Contexte","text":"<p>Dans le cadre du cours de Bases de Donn\u00e9es 2, vous \u00eates charg\u00e9 de d\u00e9velopper une application console en Python pour la gestion d'une pizzeria. L'application doit permettre de prendre des commandes de pizzas pour la livraison en utilisant une base de donn\u00e9es MySQL.</p>"},{"location":"evaluations/projet_long/#objectifs","title":"Objectifs","text":"<p>Votre programme devra permettre aux clients de fournir leur nom, num\u00e9ro de t\u00e9l\u00e9phone, adresse de livraison et de choisir les d\u00e9tails de leur pizza. La personnalisation de la pizza comprend le choix de la cro\u00fbte, de la sauce et des garnitures.</p>"},{"location":"evaluations/projet_long/#specifications-de-la-pizza","title":"Sp\u00e9cifications de la pizza","text":"<ul> <li>Types de Cro\u00fbtes : Classique, Mince, \u00c9paisse</li> <li>Choix de Sauces : Tomate, Spaghetti, Alfredo</li> <li>Choix de Garnitures (maximum 4) : Pepperoni, Champignons, Oignons, Poivrons, Olives, Anchois, Bacon, Poulet, Ma\u00efs, Fromage, Piments forts</li> </ul>"},{"location":"evaluations/projet_long/#exigences-de-la-base-de-donnees","title":"Exigences de la base de donn\u00e9es","text":"<ol> <li> <p>Mod\u00e9lisation et cr\u00e9ation de la base de donn\u00e9es</p> <ul> <li>Cr\u00e9ez les tables n\u00e9cessaires pour stocker les informations des clients, les commandes, les d\u00e9tails des pizzas et les types de cro\u00fbtes, sauces, et garnitures disponibles.</li> <li>Assurez-vous de mettre en place des relations appropri\u00e9es entre les tables pour maintenir l'int\u00e9grit\u00e9 des donn\u00e9es.</li> </ul> </li> <li> <p>Fonctionnalit\u00e9s de l'application</p> <ul> <li>Interface pour saisir les donn\u00e9es du client et de la commande.</li> <li>Fonctionnalit\u00e9 pour choisir les options de personnalisation de la pizza.</li> <li>Affichage du r\u00e9sum\u00e9 de la commande avant confirmation finale.</li> <li>Affichage de la liste des commandes en attente de livraison.</li> <li>Interface pour compl\u00e9ter une livraison et retirer la commande de la liste des livraisons en attente.</li> </ul> </li> <li> <p>D\u00e9clencheur dans la base de donn\u00e9es</p> <ul> <li>Impl\u00e9mentez un d\u00e9clencheur MySQL qui se d\u00e9clenche \u00e0 chaque nouvelle commande pour ajouter automatiquement la commande \u00e0 une liste de commandes en attente de livraison.</li> </ul> </li> </ol>"},{"location":"evaluations/projet_long/#criteres-de-livraison","title":"Crit\u00e8res de livraison","text":"<p>Cr\u00e9ez un d\u00e9p\u00f4t GitHub pour le travail, \u00e0 l'int\u00e9rieur duquel vous aurez les \u00e9l\u00e9ments suivants :</p> <ul> <li>Code Source : Votre script Python complet avec des commentaires pour expliquer les fonctions cl\u00e9s.</li> <li>Script SQL : Un script SQL pour cr\u00e9er la base de donn\u00e9es, les tables, et le d\u00e9clencheur et un script SQL pour l'insertion des donn\u00e9es.</li> <li>Documentation : Un diagramme de classe d\u00e9crivant la base de donn\u00e9es analys\u00e9e. </li> </ul>"},{"location":"evaluations/projet_long/#conseils","title":"Conseils","text":"<ul> <li>Utilisez des transactions pour garantir que les donn\u00e9es soient coh\u00e9rentes et que les op\u00e9rations sur la base de donn\u00e9es soient s\u00e9curis\u00e9es.</li> <li>G\u00e9rez les exceptions pour s'assurer que l'application peut g\u00e9rer les erreurs de saisie des utilisateurs et les probl\u00e8mes de base de donn\u00e9es de mani\u00e8re \u00e9l\u00e9gante.</li> </ul> <p>Cette \u00e9valuation vise \u00e0 tester vos comp\u00e9tences en programmation Python, en conception de bases de donn\u00e9es MySQL, et en d\u00e9veloppement d'applications interactives en console. Bonne chance!</p>"},{"location":"evaluations/projet_long/#grille-de-correction","title":"Grille de correction","text":"Crit\u00e8res R\u00e9ussi Satisfaisant insatisfaisant Points Les scripts SQL de cr\u00e9ation de tables et d'insertion de donn\u00e9es sont fonctionnels et couvrent l'ensemble de l'application. 2 1 0 /2 Le diagramme de classes respecte les points \u00e0 couvrir de l'analyse de cas et les normes de nomenclature d\u00e9finies dans les notes de cours. 3 2 0 /3 La base de donn\u00e9es comportent un d\u00e9clencheur 2 1 0 /2 L'application permet de saisir les informations du client. 2 1 0 /2 L'application permet de saisir une commande client 3 2 0 /3 L'application permet d'afficher le r\u00e9sum\u00e9 d'une commande client 3 2 0 /3 L'application permet d'afficher la liste des commandes en attente de livraison 3 2 0 /3 L'application permet de compl\u00e9ter une livraison 2 1 0 /2 Total /20"},{"location":"evaluations/resume/","title":"R\u00e9sum\u00e9 des \u00e9valuations","text":"\u00c9valuation Date Note \u00c9valuation formative formelle 2024-09-24 0% Examen 1 2024-10-15 35% Projet long 2024-11-27 15% Evaluation finale 2024-12-13 50%"},{"location":"evaluations/revision/","title":"R\u00e9vision pour l'\u00e9valuation finale","text":""},{"location":"evaluations/revision/#directives","title":"Directives","text":"<ul> <li>T\u00e9l\u00e9chargez le projet de d\u00e9part : revision_finale.zip</li> <li>Importez le script SQL creationBD.sql pr\u00e9sent dans le r\u00e9pertoire ressources du projet.</li> </ul> <p>Diagramme de classe de la base de donn\u00e9es import\u00e9e</p> <p></p> <p>Le projet contient deux scripts Python: app.py qui est le programme principal et db_groupCamp.py qui contient des fonctions qui interroge la base de donn\u00e9es.</p> <p>Au lancement de app.py on vous demandera de saisir un nom d'usager. Il y a trois usagers valides \u00e0 la cr\u00e9ation de la base de donn\u00e9es : Math, CharlyBoy et Loulou. Ensuite le menu suivant est affich\u00e9 : </p> <p></p>"},{"location":"evaluations/revision/#question-1-declencheurs","title":"Question #1 - D\u00e9clencheurs","text":"<p>Cr\u00e9ez un script SQL qui va ajouter des d\u00e9clencheurs (Trigger) qui permettront de s'assurer que la piste favorite que l'usager entre pour un album de sa collection est bien pr\u00e9sente dans cet album. </p> <p>Si la piste qui est indiqu\u00e9 est invalide, annulez l'insertion ou la modification et retournez le message d'erreur \"La piste favorite indiqu\u00e9e n'est pas pr\u00e9sente dans cet album\" avec le code d'erreur SQLSTATE \"45000\". </p> <p>Utilisez SIGNAL pour le retour d'information de l'erreur.</p> <p>Le script SQL \u00e0 remettre doit se nommer NomPrenom_creationTrigger.sql et se retrouver dans le r\u00e9pertoire ressources.</p>"},{"location":"evaluations/revision/#question-2-afficher-le-resultat-dune-requete","title":"Question #2 - Afficher le r\u00e9sultat d'une requ\u00eate","text":"<p>Compl\u00e9tez la section ==Afficher ma collection== du script app.py.</p> <p>\u00c0 partir de l'usager qui est connect\u00e9, affichez la liste des albums qui sont dans sa collection. Pour chaque album, affichez les informations suivantes sur des lignes diff\u00e9rentes: </p> <ul> <li>Le titre de l'album</li> <li>\"par\" et le nom du groupe</li> <li>\"piste favorite : \" et le titre de la piste favorite. S'il n'y en a pas, affichez \"-\"</li> <li>\"commentaire : \" et le commentaire donn\u00e9 \u00e0 l'album. S'il n'y en a pas, affichez \"-\"</li> </ul> <p>Exemple de r\u00e9sultat pour la collection de l'usager \"Math\"</p> <p></p>"},{"location":"evaluations/revision/#question-3-procedure-stockee","title":"Question #3 - Proc\u00e9dure stock\u00e9e","text":"<p>Compl\u00e9tez la section ==ajouter un album \u00e0 ma collection== du script app.py.</p> <p>Vous devez cr\u00e9er une proc\u00e9dure stock\u00e9e nomm\u00e9e AjouterAlbum qui va prendre en param\u00e8tre les informations suivantes : </p> <ul> <li>Le id de l'usager</li> <li>Le id de l'album \u00e0 ajouter (on prend pour acquis que l'usager va conna\u00eetre le id de l'album)</li> <li>Le id de la piste favorite de l'album</li> <li>Un commentaire sur l'album</li> <li>Le prix pay\u00e9 pour l'album.</li> </ul> <p>Dans la proc\u00e9dure stock\u00e9e, vous devez faire les instructions suivantes : </p> <ul> <li>D\u00e9clarez un \"exit handler\" pour le code SQLSTATE '99999' qui va annuler la transaction et retourner le texte \"Le prix pay\u00e9 est inf\u00e9rieur au prix minimum de l\\'album.\" dans une requ\u00eate SELECT.</li> <li>D\u00e9clarez un \"exit handler\" pour les \"SQLEXCEPTION\" qui va annuler la transaction et retourner le texte \"Une erreur est survenue, les op\u00e9rations ont \u00e9t\u00e9 annul\u00e9es.\" dans une requ\u00eate SELECT.</li> <li>Englobez toutes les instructions dans une transaction</li> <li>Validez si le prix pay\u00e9 est sup\u00e9rieur ou \u00e9gal au prix demand\u00e9 pour l'album. S'il est inf\u00e9rieur, lancez l'exception SQLSTATE '99999' avec l'instruction SIGNAL.</li> <li>Ins\u00e9rez les informations requises dans la table collection</li> <li>Si l'album achet\u00e9 \u00e9tait d\u00e9j\u00e0 pr\u00e9sent dans la liste de souhait de l'usager, le supprimer de la liste</li> <li>Si toutes les op\u00e9rations ont r\u00e9ussi, retournez le texte \"L\\'ajout de l\\'album a r\u00e9ussi\" dans une requ\u00eate SELECT.</li> </ul> <p>Ensuite dans le script Python, demandez les informations \u00e0 l'usager et lancez la proc\u00e9dure stock\u00e9e. R\u00e9cup\u00e9rez le r\u00e9sultat (le message de retour du SELECT dans la proc\u00e9dure) et affichez-le \u00e0 l'\u00e9cran.</p> <p>Ajoutez un script SQL nomm\u00e9 NomPrenom_ajouterAlbum.sql dans le r\u00e9pertoire ressources du projet qui permettra de recr\u00e9er votre proc\u00e9dure stock\u00e9e.</p> <p>Exemple de r\u00e9sultat pour l'usager \"Math\"</p> <p></p> <p></p> <p></p>"},{"location":"exercices/ex01_enonce/","title":"Exercice 1 - R\u00e9vision","text":"<p>Question de se remettre en mode \"BD\", voici un petit exercice de r\u00e9vision des concepts vus durant le cours de Base de donn\u00e9es 1. Inscrivez-moi dans un fichier SQL les commandes et requ\u00eates que vous avez utilis\u00e9es pour compl\u00e9ter les questions de la section Manipulation des donn\u00e9es. Le fichier est \u00e0 remettre dans le devoir Teams correspondant. </p> <p>La base de donn\u00e9es contient une liste de sorts pour le jeu Donjons et Dragons 5e \u00e9dition. Chaque sort appartient \u00e0 une seule \u00e9cole de magie, mais il peut \u00eatre utilis\u00e9 par plus d'une classe de personnage. Il y a aussi une liste d'usagers qui peuvent cr\u00e9er une liste de leurs sorts favoris.</p> <p>Voici le diagramme de classes de la base de donn\u00e9es</p> <p></p>"},{"location":"exercices/ex01_enonce/#creation-dune-base-de-donnees-et-execution-dun-script-sql","title":"Cr\u00e9ation d'une base de donn\u00e9es et ex\u00e9cution d'un script SQL","text":"<ul> <li>T\u00e9l\u00e9chargez le fichier ex01_create_tables.sql. </li> <li>Lancez le script pour cr\u00e9er la base de donn\u00e9es, les tables et le contenu des tables.</li> <li>Allez-y en ligne de commande ou avec DBeaver</li> </ul>"},{"location":"exercices/ex01_enonce/#manipulation-des-donnees","title":"Manipulation des donn\u00e9es","text":"<p>Pour chacune des questions, vous trouverez une image du r\u00e9sultat attendu avec le nom des colonnes d\u00e9sir\u00e9es.</p> <ol> <li> <p>S\u00e9lectionnez le nom de toutes les classes tri\u00e9 en ordre alphab\u00e9tique invers\u00e9. </p> </li> <li> <p>Comptez le nombre de sorts qui appartient \u00e0 l'\u00e9cole Conjuration. </p> </li> <li> <p>Comptez le nombre de sorts de chacune des \u00e9coles. (ecole | nb_sorts) </p> </li> <li> <p>S\u00e9lectionnez la liste des sorts de la classe Bard de niveau 0, triez en ordre alphab\u00e9tique de nom de sort. </p> </li> <li> <p>S\u00e9lectionnez la liste de tous les sorts qui contiennent le mot fire dans leur nom. </p> </li> <li> <p>Trouvez les trois \u00e9coles de magie qui comptent le plus de sorts faisant partie des sorts favoris des usagers. Triez les \u00e9coles en commen\u00e7ant par la plus populaire. </p> </li> <li> <p>S\u00e9lectionnez la liste des sorts qui ont le composant verbal mais pas somatic et material et qui ont une dur\u00e9e d'une heure OU qu'ils n'ont pas le composant verbal et qui ont une port\u00e9e de Touch </p> </li> <li> <p>S\u00e9lectionnez le nombre de sorts pour chaque classe. </p> </li> <li> <p>En vous aidant de la requ\u00eate pr\u00e9c\u00e9dente, affichez la moyenne de sort par classe de personnage. Essayez d'utiliser une sous-requ\u00eate et la fonction SQL AVG </p> </li> <li> <p>S\u00e9lectionnez tous les sorts d'une classe et d'un niveau donn\u00e9s. Pour chaque sort, affichez l'ID et le nom du sort, ainsi qu'une colonne \"composante\" qui sera g\u00e9n\u00e9r\u00e9e comme suit : pour les champs verbal, somatic, et material, affichez respectivement \"V\", \"S\", ou \"M\" si la valeur est \u00e9gale \u00e0 1 ; sinon, n'affichez rien. Chaque lettre doit \u00eatre s\u00e9par\u00e9e par une virgule. Enfin, affichez la valeur du champ material_cost. Vous pouvez utiliser les fonctions IF() et CONCAT() pour vous aider. Par exemple, affichez tous les sorts de la classe Bard de niveau 0.</p> </li> </ol> <p></p>"},{"location":"exercices/ex02_enonce/","title":"Exercice 02 - Syst\u00e8me de saisie d'absence","text":"<p>On veut reproduire le syst\u00e8me de saisie d'absence en cours. Analysez le fonctionnement \u00e0 l'aide du texte qui suit et des images et cr\u00e9ez le sch\u00e9ma conceptuel de votre solution.</p>"},{"location":"exercices/ex02_enonce/#fonctionnement","title":"Fonctionnement","text":"<p>L'usager commence par saisir un cours et ensuite la date de ce cours.</p> <p></p> <p>Ensuite dans un tableau on a la liste de tous les \u00e9l\u00e8ves inscrit \u00e0 ce cours. On peut saisir le nombre d'heure par un nombre entier positif. Une fois la saisie termin\u00e9e l'usager clique sur Sauvegarder les modifications</p> <p></p> <p>Finalement l'usager peut aussi sortir un rapport cumulatif des absences des \u00e9l\u00e8ves pour un cours donn\u00e9.</p> <p></p>"},{"location":"exercices/ex03_enonce/","title":"Exercice 03 - Analyse du syst\u00e8me de stationnement du c\u00e9gep","text":"<p>Pour notre deuxi\u00e8me cas, on va analyser le syst\u00e8me de droit de stationnement du c\u00e9gep. Vous devez analyser le syst\u00e8me et ensuite cr\u00e9er les deux diagrammes suivants a l'aide d'un logiciel appropri\u00e9 : </p> <ul> <li>un sch\u00e9ma conceptuel selon le mod\u00e8le entit\u00e9-association.</li> <li>un diagramme de classe UML</li> </ul> <p>Une fois termin\u00e9, me remettre le sch\u00e9ma et le diagramme en format image sur Teams dans la section devoir.</p>"},{"location":"exercices/ex03_enonce/#mise-en-situation","title":"Mise en situation","text":"<p>On doit tout d'abord se cr\u00e9er un usager avec un courriel et un mot de passe. Ensuite l'usager cr\u00e9\u00e9 peut effectuer une commande qui d\u00e9terminera la dur\u00e9e du droit de stationnement et les v\u00e9hicules autoris\u00e9s selon leur plaque d'immatriculation. </p> <ul> <li>L'usager \u00e0 le choix entre trois type de droit : <ul> <li>30 jours</li> <li>1 session</li> <li>annuelle</li> </ul> </li> <li>Il peut entrer un maximum de 4 plaques d'immatriculation par commande.</li> <li>Un compte peut contenir plus de 4 plaque d'immatriculation, mais chaque plaque est associ\u00e9 \u00e0 une commande, un droit de stationnement.</li> <li>Pour les autres informations, r\u00e9f\u00e9rez-vous aux images suivantes : </li> </ul> <p></p> <p></p> <p>Dans la section Informations personnelles on retrouve le num\u00e9ro de DA ou d'employ\u00e9, le nom complet, le courriel et le num\u00e9ro de t\u00e9l\u00e9phone.</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"exercices/ex04_enonce/","title":"Exercice 04 - Mod\u00e9lisation d'un livre de recettes","text":""},{"location":"exercices/ex04_enonce/#consignes","title":"Consignes","text":"<p>Vous devez analyser et mod\u00e9liser un livre de recettes. Les deux images qui suivent vous indique ce qui doit \u00eatre inclus dans la base de donn\u00e9es. Toutes les informations pr\u00e9sentent doivent \u00eatre sauvegard\u00e9es.</p> <p>Pr\u00e9cision sur les pictogrammes dans les recettes : </p> <ul> <li>Le bol repr\u00e9sente le temps de pr\u00e9paration de la recette</li> <li>La flamme est le temps de cuisson</li> <li>La main est un temps de pr\u00e9paration autre</li> </ul> <p>Vous devez me produire et remettre : </p> <ul> <li>[ ] Le mod\u00e8le entit\u00e9-association en format image.</li> <li>[ ] Un diagramme de classes UML, aussi \u00e0 remettre en format image.</li> <li>[ ] Un script sql de g\u00e9n\u00e9ration de la base de donn\u00e9es et des tables qui inclus la cr\u00e9ation de la base de donn\u00e9es, des tables et des cl\u00e9s primaires et \u00e9trang\u00e8res.</li> <li>[ ] La base de donn\u00e9es doit se nommer ex04_recette et avoir comme collation <code>utf8mb4_unicode_ci</code></li> <li>[ ] La table qui contiendra les recettes doit avoir une cl\u00e9 primaire qui d\u00e9bute \u00e0 la valeur 1000</li> <li>[ ] Le script doit pouvoir \u00eatre lanc\u00e9 cons\u00e9cutivement sans causer d'erreur (Pensez \u00e0 ajouter des commandes drop ... if exists)</li> <li>[ ] Vous devez respecter les trois premi\u00e8re forme normale et la convention de nommage qui est d\u00e9crite dans les notes de cours.</li> </ul> <p>Le tout dans un dossier compress\u00e9 dans le devoir sur Teams</p>"},{"location":"exercices/ex04_enonce/#images","title":"Images","text":""},{"location":"exercices/ex04_enonce/#recette-1","title":"Recette 1","text":""},{"location":"exercices/ex04_enonce/#recette-2","title":"Recette 2","text":""},{"location":"exercices/ex05_enonce/","title":"Exercice 5 - INSERT","text":"<p>\u00c0 partir de la base de donn\u00e9es athl\u00e8te, (le script sql de g\u00e9n\u00e9ration est disponible ici), r\u00e9alisez les requ\u00eates d'insertion suivante.</p> <ol> <li>Ins\u00e9rez-vous dans la table athl\u00e8te sans sp\u00e9cifier les noms de colonnes dans la requ\u00eate.</li> <li>Ins\u00e9rez un autre athl\u00e8te fictif mais en sp\u00e9cifiant seulement son nom, pr\u00e9nom et la date de naissance.</li> <li>R\u00e9cup\u00e9rez le id qui a \u00e9t\u00e9 g\u00e9n\u00e9r\u00e9 automatiquement lors de la requ\u00eate pr\u00e9c\u00e9dente et faites afficher avec une requ\u00eate SELECT le message suivant : \"L'athl\u00e8te [prenom] [nom] a \u00e9t\u00e9 ajout\u00e9 avec succ\u00e8s!\". Utilisez le id r\u00e9cup\u00e9r\u00e9 dans la clause WHERE de votre requ\u00eate.</li> <li>Cr\u00e9ez une nouvelle table appel\u00e9 athlete_quebec avec les colonnes suivante ( id cl\u00e9 primaire auto-incr\u00e9ment\u00e9, nom, pr\u00e9nom, ville )</li> <li>Ins\u00e9rez dans cette table tous les athl\u00e8tes qui proviennent de la province du Qu\u00e9bec \u00e0 l'aide d'une requ\u00eate select.</li> </ol> <p>Je veux que vous me remettiez les requ\u00eates dans un script SQL avec pour chaque requ\u00eate d'insertion une requ\u00eate select qui va valider que les donn\u00e9es ont bien \u00e9t\u00e9 ajout\u00e9.</p>"},{"location":"exercices/ex06_enonce/","title":"Exercice 6 - VUES","text":"<p>\u00c0 partir de la base de donn\u00e9es athl\u00e8te de l'exercice pr\u00e9c\u00e9dente, (le script sql de g\u00e9n\u00e9ration est disponible ici), creez les vues suivantes : </p> <ol> <li>Cr\u00e9ez une vue nomm\u00e9e resultat_hhmmss qui affiche le r\u00e9sultat format\u00e9 en heures, minutes, secondes (hh\\:mm\\:ss). Les colonnes de la vue doivent \u00eatre les m\u00eames que la table resultat mais en ajoutant une colonne nomm\u00e9e resultat_hhmmss dans laquelle le calcul sera fait (id, athlete_id, epreuve_id, date_resultat, resultat_ms, resultat_hhmmss).</li> <li>Cr\u00e9ez une vue nomm\u00e9e athlete_complet qui, en combinant les tables n\u00e9cessaires, affiche les athl\u00e8tes avec les colonnes suivantes, (id, nom pr\u00e9nom concat, date_epreuve, nom_epreuve, resultat). Attention, les noms de colonnes de la vue doivent \u00eatre identiques \u00e0 ce qui est demand\u00e9 entre parenth\u00e8se)</li> <li>\u00c0 partir de la vue pr\u00e9c\u00e9dente, athlete_complet, s\u00e9lectionnez les informations des athl\u00e8tes qui ont particip\u00e9 \u00e0 un marathon. </li> <li>Cr\u00e9ez une vue nomm\u00e9e resultat_21juillet2020 qui va contenir toutes les informations de la table r\u00e9sultat mais uniquement pour la date du 21 juillet 2020.</li> <li>Modifiez la vue resultat_21juillet2020 pour qu'elle affiche les r\u00e9sultats du 14 juillet 2019. Modifiez aussi son nom pour resultat_14juillet2019</li> <li>Supprimez la vue resultat_14juillet2019</li> </ol> <p>Remettez les requ\u00eates dans un script SQL.</p>"},{"location":"exercices/ex07_enonce/","title":"Exercice 7 - D\u00e9clencheurs","text":""},{"location":"exercices/ex07_enonce/#preparation-des-donnees","title":"Pr\u00e9paration des donn\u00e9es","text":"<ul> <li>Importer le script sql ex07_create_tables.sql disponible ici</li> </ul>"},{"location":"exercices/ex07_enonce/#declencheurs-a-creer","title":"D\u00e9clencheurs \u00e0 cr\u00e9er","text":""},{"location":"exercices/ex07_enonce/#question-1","title":"Question #1","text":"<p>Pour chaque modification \u00e0 la table resultats, ins\u00e9rez les informations n\u00e9cessaires dans la table resultats_log APR\u00c8S l'ex\u00e9cution de la requ\u00eate INSERT, UPDATE et DELETE. Attention, lors d'un UPDATE, ajoutez les informations seulement si la colonne resultat_ms a \u00e9t\u00e9 modifi\u00e9.</p> colonne insert update delete operation \"insert\" \"update\" \"delete\" ancien_resultat null old.resultat_ms old.resultat_ms nouveau_resultat new.resultat_ms new.resultat_ms null resultat_id new.id new.id new.id date_operation La date du jour La date du jour La date du jour"},{"location":"exercices/ex07_enonce/#question-2","title":"Question #2","text":"<p>Quand un r\u00e9sultat est ins\u00e9r\u00e9, validez que la valeur de la colonne cree_par existe dans la table usagers. Si la valeur est invalide, emp\u00eachez la requ\u00eate INSERT et retournez un message d'erreur. La valeur \u00e0 ins\u00e9rer dans le champ cree_par est le id d'un usager de la table usagers. </p>"},{"location":"exercices/ex07_enonce/#question-3","title":"Question #3","text":"<p>Effectuez les m\u00eames op\u00e9rations que la question #2 quand on modifie un r\u00e9sultat mais sur la colonne modifie_par.</p>"},{"location":"exercices/ex07_enonce/#question-4","title":"Question #4","text":"<p>AVANT l'insertion ou la modification de la description d'une \u00e9preuve dans la table epreuves_types, valider que la description n'est pas d\u00e9j\u00e0 utilis\u00e9e. Si oui, modifiez la valeur \u00e0 ajouter ou modifier en ajoutant (x) \u00e0 la description. ( x vaudra le nombre de fois que le nom se retrouve dans la table -1 ) Ex. On veut ins\u00e9rer Marathon comme valeur mais elle est d\u00e9j\u00e0 pr\u00e9sente comme description dans la table. On va utiliser Marathon (1) comme nouvelle valeur \u00e0 ins\u00e9rer.</p>"},{"location":"exercices/ex08_enonce/","title":"Exercice 8 - Fonctions","text":"<p>Dans la base de donn\u00e9es que vous avec import\u00e9e \u00e0 l'exercice 7 cr\u00e9ez les deux fonctions suivantes : </p>"},{"location":"exercices/ex08_enonce/#formater-un-resutlat","title":"Formater un r\u00e9sutlat","text":"<p>Cr\u00e9ez une fonction nomm\u00e9e resultatHMS qui prendra en param\u00e8tre un r\u00e9sultat en millisecondes et qui le retournera en texte sous le format heures minutes et secondes (HH:MM:SS).</p>"},{"location":"exercices/ex08_enonce/#fonction-de-calcul-de-moyenne-au-5-kilometres","title":"Fonction de calcul de moyenne au 5 kilom\u00e8tres","text":"<p>Ajoutez les informations suivantes : </p> <pre><code>-- Insertion de l'athl\u00e8te John Smith avec trois r\u00e9sultats au 5 km\nINSERT INTO athlete (nom, prenom, date_naissance, adresse, ville, province, pays, courriel)\nVALUES ('Smith', 'John', '1980-01-01', '475 Rue Notre Dame E', 'Victoriaville', 'Qu\u00e9bec', 'Canada', 'john.smith@gmail.com');\n\nSET @id_athlete := LAST_INSERT_ID();\n\nINSERT INTO resultat (athlete_id , epreuve_type_id, date_resultat, resultat_ms, evenement_id)\nVALUES (@id_athlete, 1, '2023-07-17', 1529499, 2),\n       (@id_athlete, 1, '2023-08-17', 1995742, 2),\n       (@id_athlete, 1, '2023-09-17', 1480882, 2);\n</code></pre> <p>Cr\u00e9ez une fonction nomm\u00e9e moyenne5k qui va prendre en param\u00e8tre le id d'un athl\u00e8te et qui va retourner la moyenne de ses r\u00e9sultats pour toutes ses r\u00e9sultats au 5 km. La valeur de sortie doit \u00eatre la moyenne des r\u00e9sultats exprim\u00e9es en heures, minutes, secondes (hh:mm:ss) et de type VARCHAR(). </p> <p>Utilisez l'athl\u00e8te John Smith qu'on vient d'ajouter pour tester la fonction, le r\u00e9sultat devrait \u00eatre <code>00:27:48</code>.</p>"},{"location":"exercices/ex09_enonce/","title":"Exercice 9 - Cr\u00e9dit social","text":""},{"location":"exercices/ex09_enonce/#installation","title":"Installation","text":"<p>Les scripts sql de g\u00e9n\u00e9ration de la base de donn\u00e9es sont disponibles ici</p> <ul> <li>Cr\u00e9ez la base de donn\u00e9es et les tables en ex\u00e9cutant le script sql 01_create_table.sql</li> <li>Ins\u00e9rez les donn\u00e9es en ex\u00e9cutant les scripts suivants (l'ordre est important). Certains scripts comportent beaucoup de lignes, 50 000 pour 04_insert_citoyen, c'est normal que le temps ex\u00e9cution soit long. Importez les scripts en ligne de commande pour gagner beaucoup de temps!!!</li> </ul> <p>Liste des scripts \u00e0 ex\u00e9cuter :  </p> <ul> <li>02_insert_classes</li> <li>03_insert_evenements_types</li> <li>04_insert_citoyens</li> <li>05_insert_evenements</li> <li>06_insert_citoyens_evenements</li> </ul> <p>Veuillez inscrire les scripts des cinq num\u00e9ros dans un fichier SQL. Une fois cette t\u00e2che termin\u00e9e, merci de remettre le fichier dans l'espace de devoirs sur Teams.</p>"},{"location":"exercices/ex09_enonce/#diagramme-des-classes","title":"Diagramme des classes","text":""},{"location":"exercices/ex09_enonce/#descriptions","title":"Descriptions","text":"<p>La base de donn\u00e9es sert \u00e0 stocker des informations sur les citoyens afin d'\u00e9tablir leur score de cr\u00e9dit social, une note de bon comportement qui d\u00e9termine \u00e0 quelle classe sociale appartient chaque citoyen.</p>"},{"location":"exercices/ex09_enonce/#calcul-du-credit-social","title":"Calcul du cr\u00e9dit social","text":"<p>\u00c0 la naissance, un citoyen re\u00e7oit un cr\u00e9dit initial de 500 (ce nombre peut \u00eatre modifi\u00e9 par le parti). Tout au long de sa vie, le total de ce cr\u00e9dit fluctue selon les \u00e9v\u00e9nements auxquels le citoyen participe. Le cr\u00e9dit social de chaque citoyen est la somme de son cr\u00e9dit initial et du score de tous les \u00e9v\u00e9nements auxquels il a particip\u00e9.</p> <p>Les \u00e9v\u00e9nements sont d\u00e9finis par un type et un score par d\u00e9faut dans la table evenements_types. Ce score peut \u00eatre ajust\u00e9 selon la nature de l'\u00e9v\u00e9nement via le champ score_ajustement de la table citoyens_evenements. Si ce champ est \u00e0 null, le score par d\u00e9faut de l'\u00e9v\u00e9nement est utilis\u00e9; sinon, le score ajust\u00e9 est pris en compte. Le score de cr\u00e9dit social peut varier entre 0 et 1000.</p>"},{"location":"exercices/ex09_enonce/#calcul-de-la-classe-du-citoyen","title":"Calcul de la classe du citoyen","text":"<p>Chaque citoyen appartient \u00e0 une classe selon son score de cr\u00e9dit social. Cela lui donne droit aux avantages de sa classe ainsi qu'aux avantages de toutes les classes inf\u00e9rieures. Pour appartenir \u00e0 une classe, le score de cr\u00e9dit social du citoyen doit \u00eatre sup\u00e9rieur au cr\u00e9dit minimum de cette classe (colonne credit_min de la table classes). La classe est recalcul\u00e9e chaque nuit selon le score actuel du citoyen. Pour conna\u00eetre la classe d'un citoyen, vous pouvez consulter le champ classe_id de la table citoyens.</p>"},{"location":"exercices/ex09_enonce/#exercices","title":"Exercices","text":""},{"location":"exercices/ex09_enonce/#1-fonction-calcul_credit","title":"1. Fonction calcul_credit()","text":"<p>Cr\u00e9ez une fonction nomm\u00e9e calcul_credit qui prends en param\u00e8tre le id d'un citoyen et retourne le total du calcul de son cr\u00e9dit social. </p> Param\u00e8tres IN/OUT TYPE Valeur test id IN INT 20958 RETURNS - INT 365 <p>Ex. Le citoyen Harry Walsh, id 20958, pin 51d8fbc8-d473-45f5-991e-15aea899e8f9, a un score de cr\u00e9dit social de 365. </p> <pre><code>select calcul_credit(20958) as score_credit\n</code></pre>"},{"location":"exercices/ex09_enonce/#2-fonction-privilege_valide","title":"2. Fonction privilege_valide()","text":"<p>Cr\u00e9ez une fonction nomm\u00e9e privilege_valide qui prend en param\u00e8tres le code PIN d'un citoyen ainsi que l'ID d'une classe. Si la classe du citoyen est \u00e9gale ou sup\u00e9rieure \u00e0 la classe sp\u00e9cifi\u00e9e, retournez TRUE, sinon retournez FALSE. Pour d\u00e9terminer si une classe est sup\u00e9rieure \u00e0 une autre, vous devez vous baser sur la colonne credit_min de la table classes.</p> Param\u00e8tres IN/OUT TYPE Valeur test pin IN VARCHAR(100) 51d8fbc8-d473-45f5-991e-15aea899e8f9 classe_id IN INT 4 RETURNS - BOOLEAN FALSE <p>Ex. Le citoyen Harry Walsh, id 20958, pin 51d8fbc8-d473-45f5-991e-15aea899e8f9 appartient \u00e0 la classe Delta. </p> <pre><code>-- Cette requ\u00eate retournera 1\nselect privilege_valide('51d8fbc8-d473-45f5-991e-15aea899e8f9',4) as valide\n-- Cette requ\u00eate retournera 0\nselect privilege_valide('51d8fbc8-d473-45f5-991e-15aea899e8f9',3) as valide\n</code></pre>"},{"location":"exercices/ex09_enonce/#3-vue-citoyens_avec_credit","title":"3. Vue citoyens_avec_credit","text":"<p>Cr\u00e9ez une vue nomm\u00e9e citoyens_avec_credit qui contiendra les champs suivants :  </p> Nom colonne table colonne citoyen_id citoyens id nom citoyens nom, prenom (\"Walsh, Harry\") pin citoyens pin classe classes titre credit calcul\u00e9 <p>Faites ensuite une requ\u00eate sur cette vue pour afficher les informations du citoyen id 20958.  </p>"},{"location":"exercices/ex09_enonce/#4-procedure-stockee-liste_manifestants","title":"4. Proc\u00e9dure stock\u00e9e liste_manifestants","text":"<p>Cr\u00e9ez une proc\u00e9dure stock\u00e9e nomm\u00e9e liste_manifestants qui prend une date en param\u00e8tre et retourne une liste de manifestants pr\u00e9sents \u00e0 cette date. Assurez-vous que l'\u00e9v\u00e9nement pour la date s\u00e9lectionn\u00e9e soit de type \"manifestation\". Le r\u00e9sultat doit \u00eatre tri\u00e9 par ordre alphab\u00e9tique des noms et pr\u00e9noms.</p> Nom colonne table colonne citoyen_id citoyens id evenement_id evenements id nom citoyens nom, prenom (\"Walsh, Harry\") pin citoyens pin classe classes titre date_evenement evenements date_evenement notes evenements notes <p>Pour valider votre proc\u00e9dure, utilisez la date 2021-04-01. Vous devriez obtenir 17 enregistrements. Si vous essayez avec la date 2022-09-15, vous ne devriez obtenir aucun enregistrement.</p>"},{"location":"exercices/ex09_enonce/#5-procedure-stockee-update_classe","title":"5. Proc\u00e9dure stock\u00e9e update_classe","text":"<p>Cr\u00e9ez une proc\u00e9dure stock\u00e9e nomm\u00e9e update_classe qui mettra \u00e0 jour la classe de chaque citoyen. Vous devrez calculer le cr\u00e9dit social de chaque citoyen, puis d\u00e9terminer \u00e0 quelle classe il appartient selon le cr\u00e9dit minimum de chaque classe.</p> <ul> <li>Parcourez tous les enregistrements de la table citoyens en utilisant un curseur.</li> <li>Si vous d\u00e9tectez une diff\u00e9rence entre la classe actuelle du citoyen et celle d\u00e9termin\u00e9e par votre calcul, vous devez enregistrer le probl\u00e8me dans la table log_update_classe.</li> </ul> <p>Pour tester votre proc\u00e9dure, limitez la requ\u00eate SELECT qui alimente le curseur \u00e0 un seul citoyen et modifiez la valeur du champ credit_initial de ce citoyen pour que la valeur du champ classe_id ne soit plus valide. Par exemple, modifiez la valeur du cr\u00e9dit initial du citoyen avec l'ID 2 \u00e0 850, ce qui lui donne une classe de 2 (Beta) au lieu de 4 (Delta).</p> <p>Pour tester votre proc\u00e9dure, voici les \u00e9tapes :</p> <ol> <li> <p>Limitez la requ\u00eate SELECT pour n'inclure qu'un seul citoyen :     <pre><code>DECLARE curs CURSOR FOR \nSELECT c.id, c.credit_initial, c.classe_id \nFROM citoyens c\nWHERE c.id = 2;\n</code></pre></p> </li> <li> <p>Modifiez la valeur du champ credit_initial pour le citoyen avec l'ID 2 :     <pre><code>UPDATE citoyens\nSET credit_initial = 850\nWHERE id = 2;\n</code></pre></p> </li> <li> <p>Appelez la proc\u00e9dure :     <pre><code>CALL update_classe();\n</code></pre></p> </li> </ol> <p> </p> <p>Apr\u00e8s avoir lancer la proc\u00e9dure, on peut voir que la valeur de classe_id a bien \u00e9t\u00e9 modifi\u00e9e et que l'op\u00e9ration a \u00e9t\u00e9 enregistr\u00e9e dans la table log_update_classe.</p> <p></p> <p></p>"},{"location":"exercices/ex10_enonce/","title":"Exercice 10 - Curseur","text":"<p>Cet exercice \u00e0 pour objectif de vous rendre plus \u00e0 l'aise avec la cr\u00e9ation et l'utilisation de curseurs.</p> <ul> <li>T\u00e9l\u00e9chargez et ex\u00e9cutez le script sql disponible ici : ex10_create_tables. </li> </ul>"},{"location":"exercices/ex10_enonce/#premiere-question","title":"Premi\u00e8re question","text":"<p>Dans la table houblons de la base de donn\u00e9es, il y a un champ pays qui contient le nom du pays producteur du type de houblon.  </p> <p>Cr\u00e9ez une proc\u00e9dure stock\u00e9e avec curseur qui va lister tous les pays pr\u00e9sents dans la table.</p> <ul> <li>Le format du r\u00e9sultat est un string avec la liste des pays s\u00e9par\u00e9s par un point-virgule (\"Canada;\u00c9tats-Unis\")</li> <li>Il ne doit pas avoir de doublon dans la liste</li> <li>Les pays doivent \u00eatre class\u00e9 en ordre alphab\u00e9tique</li> <li>Utilisez une variable OUT pour r\u00e9cup\u00e9rer le r\u00e9sultat</li> </ul> <p>Vous devriez avoir comme r\u00e9sultat  r\u00e9sultat<pre><code>\"Allemagne;Australie;\u00c9tats-Unis;France;Japon;Nouvelle-Z\u00e9lande;Pologne;R\u00e9publique-Tch\u00e8que;Royaume-Uni;Russie;Slov\u00e9nie\"\n</code></pre></p> <p>Cr\u00e9ez un script SQL nomm\u00e9e NomPrenom_ex10_1.sql qui va contenir la cr\u00e9ation de la proc\u00e9dure et un test \u00e0 la fin de votre proc\u00e9dure.</p>"},{"location":"exercices/ex10_enonce/#deuxieme-question","title":"Deuxi\u00e8me question","text":"<p>Encore dans la table houblons, il y a un champ similitude qui contient une liste de houblons similaires au houblon s\u00e9lectionn\u00e9. Le but est de pouvoir proposer des houblons qui s'accompagnent bien ensemble. On va extraire cette information dans de nouvelles tables.</p> <p>Cr\u00e9ez un script SQL nomm\u00e9e NomPrenom_ex10_2.sql qui va contenir l'ensemble des \u00e9l\u00e9ments de votre r\u00e9ponse.</p> <p>Cr\u00e9ez les tables selon le diagramme UML suivant</p> <p></p> <p>Cr\u00e9ez une proc\u00e9dure stock\u00e9e selon les crit\u00e8res suivants:</p> <ul> <li>La proc\u00e9dure doit utiliser un curseur</li> <li>Cr\u00e9ez une transaction qui sera compl\u00eate uniquement si le traitement se d\u00e9roule bien jusqu'\u00e0 la fin</li> <li>Supprimez le contenu des tables similitudes et similitude_logs</li> <li>Pour chaque ligne de la table houblons, isoler les valeurs de la colonne similitude (elles sont s\u00e9par\u00e9es par des virgules)</li> <li>Pour chaque valeur, d\u00e9terminez si un houblon du m\u00eame nom existe d\u00e9j\u00e0.</li> <li>Si oui, ajoutez dans la nouvelle table similitudes le id du houblon de la ligne et le id du houblon de la valeur trouv\u00e9e.</li> <li>Si non, ajoutez dans la table similitude_logs le id du houblon de la ligne et la valeur en texte.</li> <li>Si on rencontre une erreur de type SQLEXCEPTION le traitement doit s'arr\u00eater et les modifications annul\u00e9es. Affichez aussi un message d'erreur \u00e0 l'usager.</li> </ul> <p>Pour tester votre proc\u00e9dure, lancez-l\u00e0 et ensuite faites une requ\u00eate sur le houblon \"Admiral\" pour sortir ses houblons similaires depuis la table similitude. Vous devriez avoir comme r\u00e9sultat les houblons \"Target\" et \"Challenger\".</p> <p>D\u00e9posez vos deux scripts SQL dans le devoir sur Teams</p>"},{"location":"exercices/ex11_enonce/","title":"Exercice 11 - Gestion des usagers","text":"<p>Pour cet exercice nous allons utiliser la base de donn\u00e9es credit_social (voir le script de cr\u00e9ation dans l'exercice 9).Vous devez produire un script SQL qui va effectuer les op\u00e9rations suivantes. Assurez-vous de tester que les permissions sont bien appliqu\u00e9es. Vous pouvez ajouter les r\u00e9ponses des sections \"e\" dans le m\u00eame script en commentaire.</p>"},{"location":"exercices/ex11_enonce/#1-usager-mike","title":"1. Usager mike","text":"<p>a) Cr\u00e9ez un usager avec les informations suivantes : </p> <ul> <li>nom : mike</li> <li>mot de passe : !alph2</li> <li>h\u00f4te accept\u00e9 : tous</li> </ul> <p>b) Creez un r\u00f4le nomm\u00e9e <code>alpha</code></p> <p>c) Donnez les permissions suivantes \u00e0 ce r\u00f4le : </p> <ul> <li>Il a la permission de tout faire dans la base de donn\u00e9es credit_social.</li> <li>Il peut aussi ajouter des permissions \u00e0 d'autre usagers.</li> <li>Il peut cr\u00e9er des usagers pour toutes les bases de donn\u00e9es, pas seulement credit_social.</li> </ul> <p>d) Attribuez \u00e0 l'usager <code>mike</code> le r\u00f4le <code>alpha</code> et assurez-vous que le r\u00f4les est activ\u00e9 automatiquement lors de la connexion de l'usager</p> <p>e) Testez les \u00e9l\u00e9ments suivants : </p> <ul> <li>Inscrivez le r\u00e9sultat d'une requ\u00eate SELECT sur une table d'une autre base de donn\u00e9es que credit_social. Par exemple bd2_ex10.  </li> <li>Faites la cr\u00e9ation de l'usager suivant (le point #2) avec cet usager. Est-ce que \u00e7a fonctionne?</li> </ul>"},{"location":"exercices/ex11_enonce/#2-usager-john","title":"2. Usager john","text":"<p>a) Cr\u00e9er un usager avec les informations suivantes : </p> <ul> <li>nom : john</li> <li>mot de passe : !b3ta</li> <li>h\u00f4te accept\u00e9 : tous</li> </ul> <p>b) Creez un r\u00f4le nomm\u00e9e <code>beta</code></p> <p>c) Donnez les permissions suivantes \u00e0 ce r\u00f4le : </p> <ul> <li>Il peut faire des requ\u00eates SELECT, UPDATE, INSERT sur les tables citoyens et evenements de la base de donn\u00e9es credit_social.</li> <li>Il peut ex\u00e9cuter toutes les proc\u00e9dures stock\u00e9es.</li> </ul> <p>d) Attribuez \u00e0 l'usager <code>john</code> le r\u00f4le <code>beta</code></p> <p>e) Testez les \u00e9l\u00e9ments suivants :  </p> <ul> <li>Essayez de supprimer l'\u00e9v\u00e9nement avec le id 6 de la table evenement. Inscrivez la requ\u00eate effectu\u00e9e et le r\u00e9sultat.</li> <li>Ex\u00e9cutez une proc\u00e9dure stock\u00e9e de la base de donn\u00e9es credit_social, par exemple liste_manifestant(). Est-ce que \u00e7a fonctionne?</li> <li>Modifiez le cr\u00e9dit initial du citoyen avec le id 2107 pour 800. Inscrivez la requ\u00eate effectu\u00e9e pour la mise \u00e0 jour et pour valider que la valeur a \u00e9t\u00e9 modifi\u00e9e.</li> </ul>"},{"location":"exercices/ex11_enonce/#3-usager-bob","title":"3. Usager bob","text":"<p>a) Cr\u00e9er un usager avec les informations suivantes : </p> <ul> <li>nom : bob</li> <li>mot de passe : !g2mm2</li> <li>h\u00f4te accept\u00e9 : tous</li> </ul> <p>b) Creez un r\u00f4le nomm\u00e9e <code>gamma</code></p> <p>c) Donnez les permissions suivantes \u00e0 ce r\u00f4le : </p> <ul> <li>Il peut faire des requ\u00eates SELECT sur les colonnes nom, prenom et pin de la table citoyens de la base de donn\u00e9es credit_social.</li> <li>Il peut ex\u00e9cuter uniquement la proc\u00e9dure stock\u00e9e update_classe de la base de donn\u00e9es credit_social.</li> </ul> <p>d) Attribuez \u00e0 l'usager <code>bob</code> le r\u00f4le <code>gamma</code></p> <p>e) Testez les \u00e9l\u00e9ments suivants :  </p> <ul> <li>\u00cates-vous capable de donner le nom et pr\u00e9nom du citoyen avec le id 1111? Sinon pourquoi?</li> <li>Faites les modifications n\u00e9cessaires pour en \u00eatre capable. Inscrivez l'op\u00e9ration effectu\u00e9e.</li> <li>Trouvez une fa\u00e7on pour permettre \u00e0 cet usager de pouvoir afficher le nom, prenom et la classe d'un citoyen selon son PIN sans ajouter la table classe dans les permissions SELECT de l'usager (indice : on a vu une fa\u00e7on de visualiser les donn\u00e9es d'une table sans y avoir acc\u00e8s). Inscrivez les op\u00e9rations effectu\u00e9es.</li> <li>Testez votre solution avec le PIN <code>39c0cf42-510c-4811-8c3c-47ab100443ce</code> et inscrivez le nom complet du citoyen correspondant.</li> </ul>"},{"location":"exercices/ex12_enonce/","title":"Exercice 12 - pyCRUD","text":"<p>Comme premier exercice avec Python, on va cr\u00e9er une application console simple qui va couvrir sommairement les op\u00e9ration CRUD. Nous allons utiliser la base de donn\u00e9es credit_social. Je vous laisse aller pour l'apprentissage de Python et des notions dont vous allez avoir besoin (afficher \u00e0 l'\u00e9cran, lire une saisie clavier, boucle, fonction, module).</p>"},{"location":"exercices/ex12_enonce/#creation-du-menu","title":"Cr\u00e9ation du menu","text":"<p>Au lancement du programme, un menu s'affichera avec les options suivantes : </p> <ol> <li>Ajouter un nouveau citoyen</li> <li>Obtenir les informations d'un citoyen</li> <li>Modifier un citoyen</li> <li>Supprimer un citoyen</li> <li>Quitter</li> </ol> <p>Exemple de menu <pre><code> =================\n = Cr\u00e9dit social =\n =================\n\n Menu principal\n 1- Ajouter un nouveau citoyen\n 2- Obtenir les informations d'un citoyen\n 3- Modifier un citoyen\n 4- Supprimer un citoyen\n 5- Quitter\n\n Veuillez choisir une option :\n</code></pre></p>"},{"location":"exercices/ex12_enonce/#options-du-menu","title":"Options du menu","text":""},{"location":"exercices/ex12_enonce/#1-ajouter-un-citoyen","title":"1. Ajouter un citoyen","text":"<p>Demandez \u00e0 l'usager les informations suivantes sur le citoyen \u00e0 ajouter : </p> <ul> <li>nom</li> <li>pr\u00e9nom</li> <li>no_civique</li> <li>adresse</li> <li>ville</li> <li>pin</li> </ul> <p>Utiliser les valeurs suivantes pour les autres champs : - classe_id : 4 - credit_initial : 500</p> <p>Une fois l'ajout fait, affichez un message de confirmation et revenez au menu principal. <pre><code> ==============================\n = Ajouter un nouveau citoyen =\n ==============================\n\n Veuillez nous donner les informations suivantes au sujet du nouveau citoyen\n Pr\u00e9nom : Michael\n Nom : Scott\n Num\u00e9ro civique : 1725\n Adresse : Slough Avenue\n Ville : Scranton\n PIN : db123fe-00xx-fagsv\n Le citoyen Michael Scott - id [50001] a \u00e9t\u00e9 ajout\u00e9 avec succ\u00e8s\n Appuyez sur une touche pour revenir au menu...\n</code></pre></p>"},{"location":"exercices/ex12_enonce/#2-obtenir-les-informations-dun-citoyen","title":"2. Obtenir les informations d'un citoyen","text":"<p>Demandez \u00e0 l'usager de saisir le id du citoyen. Affichez ensuite les informations suivantes \u00e0 l'\u00e9cran : </p> <ul> <li>Pr\u00e9nom et nom</li> <li>Classe</li> <li>Score de cr\u00e9dit social</li> </ul> <p>Ensuite revenez au menu principal.</p> <pre><code> =========================================\n = Obtenir les informations d'un citoyen =\n =========================================\n\n Entrez le id du citoyen : 50001\n &gt; Michael Scott - Classe Delta - Cr\u00e9dit social : 500\n\n Appuyez sur une touche pour revenir au menu...\n</code></pre>"},{"location":"exercices/ex12_enonce/#3-modifier-un-citoyen","title":"3. Modifier un citoyen","text":"<p>Permettre en saisissant le id d'un citoyen de modifier son adresse ( no_civique, adresse, ville). Affichez un message de confirmation et revenez au menu principal.</p> <pre><code> =======================\n = Modifier un citoyen =\n =======================\n\n Veuillez nous donner les informations suivantes au sujet du  citoyen \u00e0 modifier\n ID du citoyen : 50001\n Num\u00e9ro civique : 1725\n Adresse : Slough Avenue\n Ville : Scranton, PA\n Le citoyen Michael Scott - id [50001] a \u00e9t\u00e9 modifi\u00e9 avec succ\u00e8s\n\n Appuyez sur une touche pour revenir au menu...\n</code></pre>"},{"location":"exercices/ex12_enonce/#4-supprimer-un-citoyen","title":"4. Supprimer un citoyen","text":"<p>Supprimez un citoyen de la base de donn\u00e9es avec son id. Attention pr\u00e9sentement dans la base de donn\u00e9es il n'y a aucune cl\u00e9s \u00e9trang\u00e8res entre les tables citoyens, citoyens_evenements et evenements. On peut donc supprimer un citoyen sans supprimer les \u00e9v\u00e8nements auxquelles il a particip\u00e9. Il faudrait s'assurer qu'en supprimant un citoyen, ses \u00e9v\u00e8nements soient aussi supprim\u00e9s. \u00c0 vous de choisir l'approche que vous voulez (le faire dans la requ\u00eate suppression, supprimer en cascade depuis une cl\u00e9 \u00e9trang\u00e8re, etc.)</p> <pre><code> ========================\n = Supprimer un citoyen =\n ========================\n\n Veuillez nous donner les informations suivantes au sujet du  citoyen \u00e0 supprimer\n ID du citoyen : 50001\n\n Le citoyen Michael Scott - id [50001] a \u00e9t\u00e9 supprim\u00e9 avec succ\u00e8s\n\n Appuyez sur une touche pour revenir au menu...\n</code></pre>"},{"location":"exercices/ex12_enonce/#5-quitter","title":"5. Quitter","text":"<p>On quitte la boucle et le programme.</p>"},{"location":"modelisation/classes/","title":"Diagramme de classes UML","text":""},{"location":"modelisation/classes/#schema-conceptuel","title":"Sch\u00e9ma conceptuel","text":""},{"location":"modelisation/classes/#voici-les-etapes-cles-de-la-transformation-entre-le-schema-conceptuel-et-le-modele-relationnel","title":"Voici les \u00e9tapes cl\u00e9s de la transformation entre le sch\u00e9ma conceptuel et le mod\u00e8le relationnel :","text":"<ol> <li> <p>Identification des entit\u00e9s et relations:</p> <ul> <li>Dans le mod\u00e8le conceptuel, les entit\u00e9s principales sont identifi\u00e9es comme Auteurs, Livres, Pays, et Genres. Ces entit\u00e9s deviendront des tables dans le sch\u00e9ma de base de donn\u00e9es relationnelle.</li> </ul> </li> <li> <p>D\u00e9finition des attributs:</p> <ul> <li>Chaque entit\u00e9 dans le mod\u00e8le conceptuel contient des attributs (comme Nom, Pr\u00e9nom pour Auteurs; Titre, ISBN pour Livres). Ces attributs sont transform\u00e9s en colonnes dans les tables correspondantes de la base de donn\u00e9es.</li> <li>Les attributs principaux de chaque entit\u00e9 deviennent souvent les cl\u00e9s primaires (PK) dans les tables relationnelles. Par exemple, <code>id</code> pour Auteurs, Livres, Pays, et Genres.</li> </ul> </li> <li> <p>Gestion des relations:</p> <ul> <li>Les relations entre les entit\u00e9s dans le mod\u00e8le conceptuel doivent \u00eatre repr\u00e9sent\u00e9es de mani\u00e8re explicite dans le sch\u00e9ma de base de donn\u00e9es.</li> <li>Pour les relations \"plusieurs \u00e0 plusieurs\" comme celle entre Auteurs et Livres ou Livres et Genres, des tables d'association sont cr\u00e9\u00e9es (auteurs_livres, livres_genres). Ces tables contiennent des cl\u00e9s \u00e9trang\u00e8res (FK) pointant vers les tables qu\u2019elles relient, agissant comme des cl\u00e9s primaires conjointes.</li> <li>Pour la relation \"un \u00e0 plusieurs\" entre Pays et Auteurs, un attribut de cl\u00e9 \u00e9trang\u00e8re (<code>pays_id</code>) est ajout\u00e9 \u00e0 la table Auteurs, r\u00e9f\u00e9ren\u00e7ant la table Pays.</li> </ul> </li> <li> <p>Contraintes:</p> <ul> <li>Les cl\u00e9s primaires et \u00e9trang\u00e8res aident \u00e0 maintenir l'int\u00e9grit\u00e9 des donn\u00e9es et \u00e0 \u00e9tablir des relations logiques entre les tables.</li> </ul> </li> <li> <p>Normalisation:</p> <ul> <li>Le processus de normalisation est appliqu\u00e9 pour r\u00e9duire la redondance et \u00e9viter les anomalies de base de donn\u00e9es. Ceci est r\u00e9alis\u00e9 en s'assurant que les tables sont con\u00e7ues selon certaines formes normales.</li> </ul> </li> </ol> <p>Ces \u00e9tapes montrent comment les concepts abstraits du mod\u00e8le conceptuel sont traduits en structures concr\u00e8tes et manipulables dans une base de donn\u00e9es relationnelle, permettant ainsi leur gestion efficace et leur exploitation par des syst\u00e8mes informatiques.</p>"},{"location":"modelisation/classes/#diagramme-de-classes-uml","title":"Diagramme de classes UML","text":""},{"location":"modelisation/classes/#references","title":"R\u00e9f\u00e9rences","text":"<ul> <li>Guide UML (dans teams) </li> </ul>"},{"location":"modelisation/definition_modelisation/","title":"Qu'est-ce qu'est la mod\u00e9lisation de donn\u00e9es?","text":"<p>La mod\u00e9lisation de donn\u00e9es est un ensemble de techniques et de m\u00e9thodes qui facilitent la construction d'une base de donn\u00e9es capable de stocker les informations d'un syst\u00e8me de mani\u00e8re efficace. Le processus de mod\u00e9lisation se d\u00e9compose en trois niveaux principaux :</p> <p>Niveau Conceptuel</p> <p>Durant cette phase initiale, une analyse approfondie du syst\u00e8me \u00e0 mod\u00e9liser est r\u00e9alis\u00e9e. Cette analyse implique la collecte de donn\u00e9es et la d\u00e9finition des exigences \u00e0 l'aide du mod\u00e8le entit\u00e9-association. Cette \u00e9tape critique permet de d\u00e9velopper un sch\u00e9ma conceptuel, qui repr\u00e9sente une \u00e9bauche pr\u00e9liminaire de la future base de donn\u00e9es.</p> <p>Niveau Relationnel</p> <p>Cette phase consiste \u00e0 convertir le sch\u00e9ma conceptuel en un diagramme de classes UML (Unified Modeling Language). Il s'agit ici de sp\u00e9cifier les types de donn\u00e9es pour chaque attribut, d'identifier les cl\u00e9s primaires et secondaires, et de d\u00e9finir les relations entre les diff\u00e9rentes tables. Le processus de normalisation est appliqu\u00e9 pour assurer l'efficacit\u00e9 et la pertinence du diagramme.</p> <p>Niveau SQL</p> <p>Enfin, le dernier niveau concerne la r\u00e9daction des scripts SQL qui serviront \u00e0 la cr\u00e9ation des tables. Cette \u00e9tape inclut \u00e9galement la d\u00e9finition des contraintes et la mise en place de d\u00e9clencheurs (triggers), qui sont essentiels pour maintenir l'int\u00e9grit\u00e9 et la logique des donn\u00e9es au sein de la base.</p> <p>Chaque \u00e9tape de ce processus est cruciale pour garantir que la base de donn\u00e9es finale soit \u00e0 la fois robuste et optimis\u00e9e pour les besoins sp\u00e9cifiques du syst\u00e8me.</p>"},{"location":"modelisation/modele_entites_relations/","title":"Mod\u00e8le entit\u00e9-association","text":""},{"location":"modelisation/modele_entites_relations/#definition","title":"D\u00e9finition","text":"<p>Le mod\u00e8le entit\u00e9-association aide \u00e0 repr\u00e9senter conceptuellement les donn\u00e9es d'un probl\u00e8me et fournit une repr\u00e9sentation graphique des associations entre les donn\u00e9es. Ceci est essentiel pour cr\u00e9er des diagrammes et mod\u00e9liser diff\u00e9rents syst\u00e8mes.</p>"},{"location":"modelisation/modele_entites_relations/#les-entites","title":"Les entit\u00e9s","text":"<p>Les entit\u00e9s dans ce mod\u00e8le repr\u00e9sentent les \u00e9l\u00e9ments du syst\u00e8me, pouvant \u00eatre des objets physiques ou des concepts. Chaque entit\u00e9 est identifiable de mani\u00e8re unique et peut inclure des attributs qui sont des donn\u00e9es \u00e0 stocker.</p> <p>Exemples d'entit\u00e9 :  </p> <ul> <li>\u00c9tudiant  </li> <li>Professeur  </li> <li>Cours  </li> <li>Livre  </li> </ul>"},{"location":"modelisation/modele_entites_relations/#les-attributs","title":"Les attributs","text":"<p>Les attributs sont les donn\u00e9es stock\u00e9es dans la base de donn\u00e9es pour chaque entit\u00e9. Il est important de distinguer les donn\u00e9es pouvant \u00eatre calcul\u00e9es ou d\u00e9duites des donn\u00e9es brutes \u00e0 enregistrer.</p> <p>Exemples d'attributs :</p> <ul> <li>\u00c9tudiant : nom, pr\u00e9nom, date de naissance, adresse</li> <li>Professeur : nom, pr\u00e9nom, date d'embauche, sp\u00e9cialit\u00e9</li> <li>Cours : titre, description, cr\u00e9dits</li> <li>Livre : titre, auteur, \u00e9dition, ISBN</li> </ul>"},{"location":"modelisation/modele_entites_relations/#les-associations","title":"Les associations","text":"<p>Les associations d\u00e9crivent les interactions et contraintes entre les entit\u00e9s. Elles sont utilis\u00e9es pour pr\u00e9ciser les relations dans les syst\u00e8mes mod\u00e9lis\u00e9s, ce qui aide \u00e0 traduire ces relations en bases de donn\u00e9es o\u00f9 les entit\u00e9s deviennent des tables et les attributs des champs.</p> <p>Exemples d'associations :</p> <ul> <li>Un \u00e9tudiant peut suivre plusieurs cours</li> <li>Un professeur peut enseigner plusieurs cours</li> <li>Un cours peut \u00eatre suivi par plusieurs \u00e9tudiants</li> <li>Un livre peut \u00eatre \u00e9crit par plusieurs auteurs</li> </ul> <p>Exemples de contraintes :</p> <ul> <li>Un \u00e9tudiant ne peut pas suivre un cours dans un autre programme que le sien</li> <li>Un professeur ne peut pas enseigner un cours sans \u00eatre assign\u00e9</li> <li>Un cours doit avoir un professeur assign\u00e9</li> <li>Un livre doit avoir au moins un auteur</li> </ul>"},{"location":"modelisation/normalisation/","title":"Formes normales","text":"<p>Les formes normales constituent un ensemble de principes directeurs qui, lorsqu'ils sont appliqu\u00e9s, garantissent la solidit\u00e9 d'un mod\u00e8le de donn\u00e9es. L'adoption de ces r\u00e8gles offre plusieurs avantages significatifs :</p> <ul> <li>R\u00e9duction de la redondance des donn\u00e9es : en \u00e9vitant les doublons, on assure une gestion plus efficace des ressources de stockage.</li> <li>Facilitation des mises \u00e0 jour : en minimisant les r\u00e9plications de donn\u00e9es, les modifications sont simplifi\u00e9es, r\u00e9duisant ainsi le risque d'erreurs.</li> <li>Pr\u00e9vention des incoh\u00e9rences : en \u00e9liminant les redondances, on r\u00e9duit le risque d'erreurs de synchronisation entre les donn\u00e9es, assurant ainsi leur int\u00e9grit\u00e9.</li> </ul> <p>Bien que huit niveaux de formes normales soient identifi\u00e9s, dans la pratique et notamment dans le cadre de ce cours, seules les trois premi\u00e8res formes normales sont g\u00e9n\u00e9ralement impl\u00e9ment\u00e9es. Pour qu'un mod\u00e8le soit consid\u00e9r\u00e9 comme \u00e9tant en troisi\u00e8me forme normale, il est imp\u00e9ratif qu'il respecte \u00e9galement les deux premi\u00e8res formes. Cette progression garantit une structuration logique et m\u00e9thodique des donn\u00e9es.</p>"},{"location":"modelisation/normalisation/#premiere-forme-normale-1fn","title":"Premi\u00e8re forme normale (1FN)","text":"<p>Les r\u00e8gles de la premi\u00e8re forme normale sont :</p> <p>Pour assurer l'int\u00e9grit\u00e9 et l'efficacit\u00e9 d'une base de donn\u00e9es, il est essentiel de respecter certaines r\u00e8gles de conception :</p> <ol> <li> <p>Cl\u00e9 primaire de la table : Chaque table doit poss\u00e9der une cl\u00e9 primaire, qui identifie de mani\u00e8re unique chaque enregistrement. Si aucun attribut ne se pr\u00eate naturellement \u00e0 cette fonction, un champ auto-incr\u00e9ment\u00e9 peut \u00eatre ajout\u00e9 pour servir de cl\u00e9 primaire.</p> </li> <li> <p>Atomicit\u00e9 des attributs : En conformit\u00e9 avec la premi\u00e8re forme normale (1FN), chaque attribut doit \u00eatre atomique, c\u2019est-\u00e0-dire indivisible. Un attribut ne doit pas contenir une liste de valeurs ou \u00eatre de nature composite. Si un attribut est d\u00e9compos\u00e9, il doit aboutir \u00e0 des informations distinctes et non \u00e0 une subdivision de la m\u00eame information.</p> </li> <li> <p>Uniformit\u00e9 des types de valeurs : Chaque attribut d'une table doit contenir uniquement un type de valeur, assurant ainsi la coh\u00e9rence des donn\u00e9es.</p> </li> <li> <p>Absence de redondance dans les colonnes : La duplication d'informations dans plusieurs colonnes d'une m\u00eame table doit \u00eatre \u00e9vit\u00e9e pour pr\u00e9venir les incoh\u00e9rences.</p> </li> </ol>"},{"location":"modelisation/normalisation/#exemple-de-non-respect-de-la-1fn","title":"Exemple de Non-Respect de la 1FN","text":"<p>Prenons l'exemple de deux tables <code>Usagers</code> qui violent la premi\u00e8re forme normale :</p> <ul> <li>Table Usagers 1 :</li> <li><code>ID</code> : cl\u00e9 primaire</li> <li><code>Nom</code> : nom de l'usager</li> <li> <p><code>T\u00e9l\u00e9phones</code> : liste des num\u00e9ros de t\u00e9l\u00e9phone (violation de la 1FN car l'attribut est une liste)</p> </li> <li> <p>Table Usagers 2 :</p> </li> <li><code>ID</code> : cl\u00e9 primaire</li> <li><code>Nom</code> : nom de l'usager</li> <li><code>Adresse</code> : adresse compl\u00e8te (rue, ville, code postal) (violation de la 1FN car l'attribut est compos\u00e9)</li> </ul> <p>Dans chacun de ces cas, l'attribut en violation doit \u00eatre modifi\u00e9 pour respecter la premi\u00e8re forme normale. Pour la table <code>Usagers 1</code>, l'attribut <code>T\u00e9l\u00e9phones</code> pourrait \u00eatre g\u00e9r\u00e9 via une table s\u00e9par\u00e9e. Pour la table <code>Usagers 2</code>, l'adresse peut \u00eatre divis\u00e9e en attributs distincts comme <code>Rue</code>, <code>Ville</code>, et <code>Code Postal</code>.</p>"},{"location":"modelisation/normalisation/#table-usagers-1","title":"Table Usagers 1","text":"ID Nom T\u00e9l\u00e9phones 1 Alice Durand (819) 363-4444, (819) 564-7878 2 Bob Martin (819) 765-4321 3 Clara Dubois (819) 123-4567, (819) 987-6543 4 Denis Petit (819) 345-6789"},{"location":"modelisation/normalisation/#table-usagers-2","title":"Table Usagers 2","text":"ID Nom Adresse 1 Alice Durand 123 rue de l'\u00c9glise, Qu\u00e9bec, G1R 4S9 2 Bob Martin 456 boulevard Charest, Qu\u00e9bec, G1K 8R2 3 Clara Dubois 789 avenue Cartier, Qu\u00e9bec, G1S 3P9 4 Denis Petit 101 chemin Sainte-Foy, Qu\u00e9bec, G1V 1T3 <p>Ces donn\u00e9es fictives montrent toujours les violations de la premi\u00e8re forme normale avec les attributs <code>T\u00e9l\u00e9phones</code> et <code>Adresse</code>. Pour rendre les tables <code>Usager 1</code> et <code>Usager 2</code> conformes \u00e0 la premi\u00e8re forme normale (1FN), nous devons \u00e9liminer les listes de valeurs et d\u00e9composer les valeurs composites en attributs plus simples. Voici les tables mises \u00e0 jour :</p>"},{"location":"modelisation/normalisation/#table-usagers-1_1","title":"Table Usagers 1","text":"<p>Pour rendre cette table conforme \u00e0 la 1FN, nous cr\u00e9ons une nouvelle table pour g\u00e9rer les num\u00e9ros de t\u00e9l\u00e9phone, assurant qu'un seul num\u00e9ro soit pr\u00e9sent par ligne :</p>"},{"location":"modelisation/normalisation/#table-usagers","title":"Table Usagers","text":"ID Nom 1 Alice Durand 2 Bob Martin 3 Clara Dubois 4 Denis Petit"},{"location":"modelisation/normalisation/#table-telephones","title":"Table T\u00e9l\u00e9phones","text":"Usager_ID T\u00e9l\u00e9phone 1 (819) 363-4444 1 (819) 564-7878 2 (819) 765-4321 3 (819) 123-4567 3 (819) 987-6543 4 (819) 345-6789"},{"location":"modelisation/normalisation/#table-usagers-2_1","title":"Table Usagers 2","text":"<p>Pour cette table, chaque composante de l'adresse est scind\u00e9e en colonnes distinctes pour respecter l'atomicit\u00e9 :</p>"},{"location":"modelisation/normalisation/#table-usagers_1","title":"Table Usagers","text":"ID Nom Rue Ville Code Postal 1 Alice Durand 123 rue de l'\u00c9glise Qu\u00e9bec G1R 4S9 2 Bob Martin 456 boulevard Charest Qu\u00e9bec G1K 8R2 3 Clara Dubois 789 avenue Cartier Qu\u00e9bec G1S 3P9 4 Denis Petit 101 chemin Sainte-Foy Qu\u00e9bec G1V 1T3 <p>Ces modifications permettent \u00e0 chaque table de respecter la premi\u00e8re forme normale en s'assurant que chaque champ contient des donn\u00e9es non divisibles et uniques, \u00e9vitant ainsi la redondance et les probl\u00e8mes de mise \u00e0 jour.</p>"},{"location":"modelisation/normalisation/#impact-de-lapplication-de-la-regle","title":"Impact de l'application de la r\u00e8gle","text":"<ul> <li>Aucun attribut n\u2019est compos\u00e9 ou de valeurs multiples</li> <li>Augmente grandement la performance en \u00e9vitant de parcourir des attributs sous forme de liste et en cr\u00e9ant des indexes plus performants.</li> </ul>"},{"location":"modelisation/normalisation/#deuxieme-forme-normale-2fn","title":"Deuxi\u00e8me forme normale (2FN)","text":"<p>Pour qu'une table de donn\u00e9es soit conforme \u00e0 la deuxi\u00e8me forme normale (2FN), elle doit remplir les conditions suivantes :</p> <ul> <li>\u00catre d\u00e9j\u00e0 conforme \u00e0 la premi\u00e8re forme normale (1FN).</li> <li>Assurer que chaque attribut non-cl\u00e9 d\u00e9pende enti\u00e8rement de la cl\u00e9 primaire, ou des cl\u00e9s primaires dans le cas d'une cl\u00e9 composite. Cela signifie qu'aucun attribut ne doit \u00eatre d\u00e9pendant uniquement d'une partie d'une cl\u00e9 composite.</li> </ul> <p>Cette structuration vise \u00e0 garantir une d\u00e9pendance compl\u00e8te des attributs par rapport \u00e0 la cl\u00e9 primaire, \u00e9vitant ainsi les d\u00e9pendances partielles qui pourraient entra\u00eener des anomalies de donn\u00e9es.</p> <p>Supposons la table notes_cours dans laquelle on veut enregistrer la note obtenue par cours par \u00e9tudiant :</p> ETUDIANT_ID COURS_ID NOTE NOM_COURS 1 1 95 Programmation 1 2 1 88 Programmation 1 1 2 64 Design Web <p>Il existe plusieurs probl\u00e9matiques notables dans la disposition actuelle de la base de donn\u00e9es :</p> <ol> <li> <p>Gestion des doublons : Il peut \u00eatre difficile de g\u00e9rer les doublons, particuli\u00e8rement si l'on souhaite r\u00e9cup\u00e9rer le nom d'un cours sp\u00e9cifique, tel que \"Programmation 1\". La pr\u00e9sence de doublons peut compliquer l'extraction de donn\u00e9es fiables.</p> </li> <li> <p>Acc\u00e8s aux donn\u00e9es apr\u00e8s suppression : Si un \u00e9tudiant est supprim\u00e9 de la base, l'acc\u00e8s aux informations du cours auquel il \u00e9tait inscrit, tel que \"Design Web\", pourrait \u00eatre compromis. Cette situation pose un risque de perte d'information non n\u00e9gligeable.</p> </li> <li> <p>Consistance des donn\u00e9es : En cas de modification du nom d'un cours, des erreurs peuvent survenir si la mise \u00e0 jour n'est pas appliqu\u00e9e uniform\u00e9ment \u00e0 toutes les occurrences. Cela peut entra\u00eener des incoh\u00e9rences dans les noms des cours, affectant la fiabilit\u00e9 des donn\u00e9es.</p> </li> <li> <p>Ajout de nouveaux cours : L'ajout de nouveaux cours \u00e0 la base de donn\u00e9es pourrait se heurter \u00e0 des complications si aucun \u00e9tudiant n'est encore inscrit pour recevoir des notes, ce qui rend difficile la gestion pr\u00e9visionnelle des cours.</p> </li> </ol> <p>Pour rem\u00e9dier \u00e0 ces probl\u00e8mes et assurer la conformit\u00e9 avec la 2FN, il est pr\u00e9conis\u00e9 de scinder la table existante en deux tables distinctes :</p> <ul> <li>Table Cours : Contiendrait des informations uniques sur les cours, telles que <code>ID_Cours</code> (cl\u00e9 primaire) et <code>Nom_Cours</code>.</li> <li>Table Inscriptions : Relierait les \u00e9tudiants aux cours et inclurait <code>ID_\u00c9tudiant</code>, <code>ID_Cours</code>, et <code>Note</code>. Chaque attribut de cette table serait pleinement d\u00e9pendant de la cl\u00e9 primaire compos\u00e9e (<code>ID_\u00c9tudiant</code>, <code>ID_Cours</code>), assurant ainsi une d\u00e9pendance fonctionnelle compl\u00e8te.</li> </ul> <p>Cette restructuration permettrait une gestion plus efficace des donn\u00e9es et \u00e9viterait les probl\u00e8mes cit\u00e9s, en s'alignant avec les principes de la mod\u00e9lisation relationnelle et les normes de normalisation des donn\u00e9es.</p> <p>table notes_cours</p> ETUDIANT_ID COURS_ID NOTE 1 1 95 2 1 88 1 2 64 <p>table cours</p> ID NOM 1 Programmation 1 2 Design Web"},{"location":"modelisation/normalisation/#impact-de-lapplication-de-la-regle_1","title":"Impact de l'application de la r\u00e8gle","text":"<ul> <li>Permets d'\u00e9liminer plusieurs redondances des donn\u00e9es.</li> <li>Facilite la mise \u00e0 jour des donn\u00e9es</li> </ul>"},{"location":"modelisation/normalisation/#troisieme-forme-normale-3fn","title":"Troisi\u00e8me forme normale (3FN)","text":"<p>Pour qu'une table soit conforme \u00e0 la troisi\u00e8me forme normale (3FN), elle doit :</p> <ul> <li>Satisfaire toutes les exigences de la deuxi\u00e8me forme normale (2FN), et par cons\u00e9quent, celles de la premi\u00e8re forme normale (1FN) \u00e9galement.</li> <li>Assurer que tous les attributs non-cl\u00e9s d\u00e9pendent uniquement de la cl\u00e9 primaire, et non d'autres attributs non-cl\u00e9s de la table.</li> </ul> <p>Consid\u00e9rons, \u00e0 titre d'exemple, la table d'inventaire suivante :</p> ID QUANTITE ITEM_ID DESCRIPTION 1 3 1 Potion de soins mineures 2 11 2 \u00c9p\u00e9e de cuivre <p>Dans cette table, l'attribut DESCRIPTION d\u00e9pend de ITEM_ID et non directement de la cl\u00e9 primaire ID. Pour rendre la table conforme \u00e0 la 3FN, il conviendrait de retirer l'attribut DESCRIPTION de cette table, \u00e0 condition que cette information soit d\u00e9j\u00e0 contenue dans une table distincte associ\u00e9e aux ITEM_ID (par exemple, une table Item). Cette s\u00e9paration permet d'\u00e9liminer les d\u00e9pendances transitives et d'assurer que chaque attribut non-cl\u00e9 est directement d\u00e9pendant de la cl\u00e9 primaire seule, garantissant ainsi l'int\u00e9grit\u00e9 et la normalisation des donn\u00e9es.</p>"},{"location":"modelisation/normalisation/#impact-de-lapplication-de-la-regle_2","title":"Impact de l'application de la r\u00e8gle","text":"<ul> <li>Permets d'\u00e9liminer plusieurs redondances des donn\u00e9es.</li> <li>Facilite la mise \u00e0 jour des donn\u00e9es</li> </ul> <p>Dans certaines circonstances, atteindre et maintenir la troisi\u00e8me forme normale (3FN) n'est pas toujours pratique ou n\u00e9cessaire, en particulier lorsque des exigences sp\u00e9cifiques ou des probl\u00e9matiques de performance le justifient. Prenons l'exemple d'une table qui enregistre les d\u00e9tails des lignes de facture : id\u00e9alement, le total de chaque ligne ne devrait pas \u00eatre stock\u00e9 puisqu'il peut \u00eatre calcul\u00e9 dynamiquement \u00e0 partir de la quantit\u00e9 et du prix unitaire. Cependant, si les op\u00e9rations sur le total des lignes sont fr\u00e9quentes et lourdes en termes de calcul, il peut \u00eatre judicieux de d\u00e9roger \u00e0 la 3FN et de conserver ce total dans une colonne d\u00e9di\u00e9e. Cela peut significativement r\u00e9duire le temps de traitement et am\u00e9liorer la performance du syst\u00e8me, particuli\u00e8rement dans les contextes o\u00f9 la rapidit\u00e9 d'acc\u00e8s aux donn\u00e9es est critique.</p> <p>Cette approche pragmatique doit \u00eatre \u00e9valu\u00e9e soigneusement, en pesant les avantages en termes de performance contre les risques potentiels d'incoh\u00e9rence des donn\u00e9es, particuli\u00e8rement lors des mises \u00e0 jour. Cette d\u00e9cision doit \u00eatre prise en consid\u00e9ration du contexte sp\u00e9cifique et des besoins op\u00e9rationnels de l'application ou du syst\u00e8me de gestion de base de donn\u00e9es.</p>"},{"location":"modelisation/normalisation/#ressources","title":"Ressources","text":"<p>Une vid\u00e9o qui explique tr\u00e8s bien la normalisation (en anglais) : Normalisation</p>"},{"location":"modelisation/schema_conceptuel/","title":"Sch\u00e9ma conceptuel","text":"<p>Dans le sch\u00e9ma conceptuel du mod\u00e8le entit\u00e9-association, chaque composant est repr\u00e9sent\u00e9 de mani\u00e8re sp\u00e9cifique pour illustrer les relations et les structures de donn\u00e9es de mani\u00e8re visuelle et intuitive :</p> <ul> <li> <p>Entit\u00e9s : Repr\u00e9sent\u00e9es par des rectangles, les entit\u00e9s sont des objets ou des concepts qui poss\u00e8dent des donn\u00e9es dans la base de donn\u00e9es. Le nom de l'entit\u00e9 est plac\u00e9 en en-t\u00eate du rectangle.</p> </li> <li> <p>Attributs : Les caract\u00e9ristiques ou propri\u00e9t\u00e9s des entit\u00e9s sont nomm\u00e9es \u00e0 l'int\u00e9rieur des rectangles de leur entit\u00e9 respective. Chaque attribut d\u00e9crit une donn\u00e9e que l'entit\u00e9 doit contenir.</p> </li> <li> <p>Associations : Les relations entre deux entit\u00e9s ou plus sont repr\u00e9sent\u00e9es par des cercles, au sein desquels on inscrit un verbe ou un mot-cl\u00e9 d\u00e9crivant la relation. Ces cercles servent \u00e0 connecter logiquement les entit\u00e9s concern\u00e9es.</p> </li> <li> <p>Connexions : Des lignes ou traits relient les entit\u00e9s aux associations, d\u00e9montrant comment elles interagissent ou sont li\u00e9es par la relation d\u00e9finie.</p> </li> <li> <p>Multiplicit\u00e9 : \u00c0 chaque trait connectant une entit\u00e9 \u00e0 une association, une notation sp\u00e9cifie la multiplicit\u00e9 de la relation, c'est-\u00e0-dire le nombre minimal et maximal d'instances pouvant \u00eatre associ\u00e9es. Cette multiplicit\u00e9 est not\u00e9e sous la forme x..y, o\u00f9 \"x\" est le nombre minimal d'objets reli\u00e9s, et \"y\" le maximum. Des nombres entiers positifs sont utilis\u00e9s, ou le symbole \"*\" pour indiquer un nombre illimit\u00e9.</p> </li> </ul>"},{"location":"modelisation/schema_conceptuel/#exemple-pratique","title":"Exemple pratique","text":"<p>Imaginons un sch\u00e9ma conceptuel simple pour une application de gestion de biblioth\u00e8que :</p> <p></p> <p>Cet exemple de sch\u00e9ma entit\u00e9-association illustre les relations entre les auteurs, les livres, les pays, et les genres. Voici comment on pourrait d\u00e9crire ce mod\u00e8le :</p>"},{"location":"modelisation/schema_conceptuel/#entites-et-associations","title":"Entit\u00e9s et associations","text":"<ol> <li> <p>Entit\u00e9 Auteurs :</p> <ul> <li>Attributs : Id, Nom, Pr\u00e9nom, Date de naissance.</li> <li>Associations :<ul> <li>R\u00e9dige : Relie un ou plusieurs auteurs \u00e0 z\u00e9ro ou plusieurs livres (multiplicit\u00e9 1..* \u00e0 0..*). Cela signifie qu'un auteur peut r\u00e9diger aucun ou plusieurs livres, et un livre peut \u00eatre r\u00e9dig\u00e9 par un ou plusieurs auteurs.</li> <li>Est originaire de : Chaque auteur est originaire d'un seul pays  (multiplicit\u00e9 0..* \u00e0 1..1). Cela signifie qu'un auteur peut ou non \u00eatre li\u00e9 \u00e0 un pays, mais un pays peut \u00eatre associ\u00e9 \u00e0 aucun, un ou plusieurs auteurs.</li> </ul> </li> </ul> </li> <li> <p>Entit\u00e9 Livres :</p> <ul> <li>Attributs : Id, Titre, isbn.</li> <li>Associations :<ul> <li>Appartient \u00e0 : Chaque livre appartient \u00e0 un genre (multiplicit\u00e9 0..* \u00e0 1..*). Cela indique qu'un livre peut ou non appartenir \u00e0 un genre, mais un genre peut inclure aucun, un, ou plusieurs livres.</li> </ul> </li> </ul> </li> <li> <p>Entit\u00e9 Pays :</p> <ul> <li>Attributs : Id, Nom.</li> <li>Cette entit\u00e9 est associ\u00e9e \u00e0 l'entit\u00e9 Auteur par l'association Est originaire de.</li> </ul> </li> <li> <p>Entit\u00e9 Genres :</p> <ul> <li>Attributs : Id, Nom.</li> <li>Cette entit\u00e9 est li\u00e9e \u00e0 l'entit\u00e9 Livre par l'association Appartient \u00e0.</li> </ul> </li> </ol>"},{"location":"modelisation/schema_conceptuel/#description-des-multiplicites","title":"Description des multiplicit\u00e9s","text":"<ul> <li>R\u00e9dige (Auteurs-Livres) : Une association qui peut inclure plusieurs auteurs collaborant sur un m\u00eame livre, ou un auteur travaillant sur plusieurs livres.</li> <li>Est originaire de (Auteurs-Pays) : Un auteur peut \u00eatre associ\u00e9 \u00e0 un seul pays, refl\u00e9tant la nationalit\u00e9 ou l'origine g\u00e9ographique de l'auteur.</li> <li>Appartient \u00e0 (Livres-Genres) : Un livre est class\u00e9 dans un genre sp\u00e9cifique, mais un genre peut regrouper de nombreux livres.</li> </ul> <p>Cet exemple illustre la complexit\u00e9 et l'interd\u00e9pendance des entit\u00e9s dans une base de donn\u00e9es relationnelle, montrant comment les livres peuvent \u00eatre li\u00e9s \u00e0 leurs auteurs, genres, et pays d'origine. Cette structure aide \u00e0 organiser les donn\u00e9es de mani\u00e8re logique et efficace, facilitant les requ\u00eates et la gestion des informations.</p> <p>Astuce</p> <p>Les multiplicit\u00e9s sont importantes pour d\u00e9terminer les contraintes. Un truc pour les lire est de commencer par le nom de l'entit\u00e9, ensuite le verbe de l'association, la multiplicit\u00e9 et finalement la deuxi\u00e8me entit\u00e9. Si on prend par exemple l'association R\u00e9dige, on va lire que l'auteur peut r\u00e9diger entre 0 et plusieurs livres (0..*). \u00c0 l'inverse un livre peut \u00eatre r\u00e9dig\u00e9 par au moins un auteur mais aussi par plusieurs (1..*).</p>"},{"location":"modelisation/types_relations/","title":"Types de relations","text":"<p>Il existe trois types possibles de relation entre les tables :</p>"},{"location":"modelisation/types_relations/#un-a-plusieurs-1-n","title":"Un \u00e0 plusieurs (1-n)","text":"<p>Vous avez bien d\u00e9crit une mani\u00e8re de structurer une base de donn\u00e9es pour un jeu d'aventure afin de g\u00e9rer les relations entre les usagers et leurs personnages. Voici une version am\u00e9lior\u00e9e et plus d\u00e9taill\u00e9e de votre explication, en tenant compte des meilleures pratiques de mod\u00e9lisation de bases de donn\u00e9es :</p> <p>Dans le contexte d'un jeu d'aventure, o\u00f9 un usager peut cr\u00e9er et g\u00e9rer plusieurs personnages simultan\u00e9ment, la structure de la base de donn\u00e9es doit efficacement repr\u00e9senter la relation entre les usagers et leurs personnages. Chaque personnage est exclusif \u00e0 un usager, ce qui signifie qu'un personnage ne peut appartenir qu'\u00e0 un seul usager. Pour mod\u00e9liser cette relation \"un \u00e0 plusieurs\" dans la base de donn\u00e9es, on utilise la technique de la cl\u00e9 \u00e9trang\u00e8re.</p> <p>Voici comment cette relation peut \u00eatre structur\u00e9e :</p> <ol> <li> <p>Table Usagers : Cette table contient les informations de base des usagers.</p> <ul> <li>id (cl\u00e9 primaire) : Identifie de mani\u00e8re unique chaque usager dans le jeu.</li> <li>Autres attributs : Tels que le nom d'usager, l'email, etc.</li> </ul> </li> <li> <p>Table personnages : Cette table stocke les informations relatives aux diff\u00e9rents personnages cr\u00e9\u00e9s par les usagers.</p> <ul> <li>id (cl\u00e9 primaire) : Identifie de mani\u00e8re unique chaque personnage dans le jeu.</li> <li>usager_id (cl\u00e9 \u00e9trang\u00e8re) : Relie chaque personnage \u00e0 un usager sp\u00e9cifique. Cette cl\u00e9 \u00e9trang\u00e8re fait r\u00e9f\u00e9rence \u00e0 la cl\u00e9 primaire de la table Usagers, assurant que chaque personnage est li\u00e9 \u00e0 un seul usager.</li> <li>Autres attributs : Tels que le nom du personnage, niveau, classe, etc.</li> </ul> </li> </ol> <p> </p> <p>En utilisant une cl\u00e9 \u00e9trang\u00e8re dans la table Personnages qui pointe vers la cl\u00e9 primaire de la table Usagers, on assure une int\u00e9grit\u00e9 r\u00e9f\u00e9rentielle entre les tables. Cela permet de garantir que chaque personnage est associ\u00e9 \u00e0 un usager existant et emp\u00eache les orphelins de donn\u00e9es, c'est-\u00e0-dire des personnages sans usagers associ\u00e9s. Cette structure facilite \u00e9galement les requ\u00eates pour retrouver tous les personnages appartenant \u00e0 un usager sp\u00e9cifique, optimisant ainsi les interactions dans le jeu.</p>"},{"location":"modelisation/types_relations/#plusieurs-a-plusieurs-n-n","title":"Plusieurs \u00e0 plusieurs (n-n)","text":"<p>Dans le cadre du jeu d'aventure o\u00f9 un personnage peut poss\u00e9der plusieurs exemplaires d'un m\u00eame item et o\u00f9 un item peut \u00eatre pr\u00e9sent dans plusieurs inventaires, nous avons affaire \u00e0 une relation de type plusieurs \u00e0 plusieurs entre les personnages (ou directement les inventaires) et les items. Pour mod\u00e9liser correctement cette relation dans la base de donn\u00e9es, il est n\u00e9cessaire de cr\u00e9er une table de jonction qui transforme cette relation complexe en relations plus simples de type un \u00e0 plusieurs.</p>"},{"location":"modelisation/types_relations/#structure-des-tables","title":"Structure des tables :","text":"<ol> <li> <p>Table Inventaires : Contient les d\u00e9tails de chaque inventaire associ\u00e9 \u00e0 un personnage.</p> <ul> <li>id (cl\u00e9 primaire) : Identifie de mani\u00e8re unique chaque inventaire.</li> </ul> </li> <li> <p>Table Items : D\u00e9taille chaque item qui peut \u00eatre poss\u00e9d\u00e9 dans le jeu.</p> <ul> <li>id (cl\u00e9 primaire) : Identifie de mani\u00e8re unique chaque item.</li> </ul> </li> <li> <p>Table de Jonction inventaires_items : D\u00e9membre la relation plusieurs \u00e0 plusieurs entre les inventaires et les items.</p> <ul> <li>inventaire_id (cl\u00e9 \u00e9trang\u00e8re) : Relie chaque entr\u00e9e \u00e0 un inventaire sp\u00e9cifique dans la table Inventaires.</li> <li>item_id (cl\u00e9 \u00e9trang\u00e8re) : Relie chaque entr\u00e9e \u00e0 un item sp\u00e9cifique dans la table Items.</li> <li>Autres attributs possibles : Quantit\u00e9 de l'item dans l'inventaire, condition de l'item, etc.</li> </ul> </li> </ol> <p> </p>"},{"location":"modelisation/types_relations/#fonctionnement-de-la-table-de-jonction","title":"Fonctionnement de la table de jonction :","text":"<p>La table de jonction, souvent appel\u00e9e table associative, permet de stocker les informations sp\u00e9cifiques \u00e0 chaque association entre un inventaire et un item, comme la quantit\u00e9 d'un item sp\u00e9cifique dans un inventaire donn\u00e9. Chaque ligne de cette table repr\u00e9sente une occurrence unique d'un item dans un inventaire particulier, ce qui permet de g\u00e9rer efficacement les multiples instances d'un m\u00eame item.</p> <p>En utilisant des cl\u00e9s \u00e9trang\u00e8res qui pointent vers les cl\u00e9s primaires des tables Inventaires et Items, la table de jonction maintient l'int\u00e9grit\u00e9 r\u00e9f\u00e9rentielle et simplifie les requ\u00eates qui visent \u00e0 d\u00e9terminer quels items se trouvent dans quel inventaire, ou inversement, dans quels inventaires un item particulier est pr\u00e9sent. Cette m\u00e9thode de mod\u00e9lisation est essentielle pour maintenir une base de donn\u00e9es organis\u00e9e, coh\u00e9rente et facile \u00e0 g\u00e9rer dans le contexte d'un jeu complexe avec de multiples \u00e9l\u00e9ments interactifs.</p>"},{"location":"modelisation/types_relations/#un-a-un-1-1","title":"Un \u00e0 un (1-1)","text":"<p>Dans certains cas de figure en mod\u00e9lisation de bases de donn\u00e9es, nous rencontrons des relations de type un-\u00e0-un, o\u00f9 chaque entr\u00e9e dans une table est directement li\u00e9e \u00e0 une seule entr\u00e9e dans une autre table, et vice versa. Ce type de relation est relativement rare car, dans de nombreux cas, les donn\u00e9es correspondantes pourraient simplement \u00eatre regroup\u00e9es au sein d'une seule table. Cependant, il existe des situations sp\u00e9cifiques o\u00f9 une s\u00e9paration est justifi\u00e9e.</p>"},{"location":"modelisation/types_relations/#utilisation-des-relations-un-a-un","title":"Utilisation des relations un-\u00e0-un :","text":"<ol> <li> <p>S\u00e9curit\u00e9 et confidentialit\u00e9 des donn\u00e9es : Une relation un-\u00e0-un peut \u00eatre utilis\u00e9e pour s\u00e9parer des informations sensibles ou confidentielles des autres donn\u00e9es d'un utilisateur. Par exemple, les d\u00e9tails personnels d'un usager, tels que les num\u00e9ros d'assurance sociale ou les informations bancaires, pourraient \u00eatre stock\u00e9s dans une table distincte des autres informations moins sensibles, comme le nom d'usager ou le courriel. Cette s\u00e9paration aide \u00e0 mieux s\u00e9curiser les donn\u00e9es sensibles en limitant l'acc\u00e8s uniquement aux parties de la base de donn\u00e9es qui en ont strictement besoin.</p> </li> <li> <p>Performance et optimisation : La s\u00e9paration des donn\u00e9es peut \u00e9galement \u00eatre motiv\u00e9e par des questions de performance. Si certaines donn\u00e9es sont acc\u00e9d\u00e9es ou mises \u00e0 jour plus fr\u00e9quemment que d'autres, les placer dans des tables s\u00e9par\u00e9es peut r\u00e9duire le temps de chargement et am\u00e9liorer l'efficacit\u00e9 des requ\u00eates.</p> </li> </ol>"},{"location":"modelisation/types_relations/#exemple-de-mise-en-uvre","title":"Exemple de mise en \u0153uvre :","text":"<p>Supposons une base de donn\u00e9es avec deux tables, <code>Usagers</code> et <code>Informations_Sensibles</code> :  </p> <ul> <li>Table Usagers : Contient des donn\u00e9es g\u00e9n\u00e9rales comme l'ID de l'usager, le nom, et le courriel.  </li> <li>Table Informations_Sensibles : Contient des donn\u00e9es plus d\u00e9licates, telles que les informations de paiement ou les num\u00e9ros d'assurance sociale, avec une cl\u00e9 \u00e9trang\u00e8re qui r\u00e9f\u00e9rence la cl\u00e9 primaire de la table Usagers.  </li> </ul> <p>Dans cette structure, chaque entr\u00e9e de la table <code>Usagers</code> a une correspondance unique dans la table <code>Informations_Sensibles</code>, garantissant que chaque usager a exactement un ensemble de donn\u00e9es sensibles associ\u00e9, et inversement.</p> <p>Ce mod\u00e8le offre non seulement une meilleure protection des donn\u00e9es gr\u00e2ce \u00e0 une gestion plus cibl\u00e9e des acc\u00e8s, mais il facilite \u00e9galement la maintenance et l'\u00e9volutivit\u00e9 de la base de donn\u00e9es en maintenant la s\u00e9paration logique des diff\u00e9rents types de donn\u00e9es.</p> <p> </p>"},{"location":"mysql/autorisations/","title":"Gestion des autorisations","text":"<p>Les privil\u00e8ges permettent de contr\u00f4ler de mani\u00e8re pr\u00e9cise les actions qu'un utilisateur est autoris\u00e9 \u00e0 effectuer. Ils autorisent l'utilisateur \u00e0 ex\u00e9cuter des commandes SQL sp\u00e9cifiques, en d\u00e9finissant clairement les limites de ses capacit\u00e9s d'acc\u00e8s et de manipulation des donn\u00e9es.</p>"},{"location":"mysql/autorisations/#ajouter-ou-enlever-des-privileges","title":"Ajouter ou enlever des privil\u00e8ges","text":"<pre><code>-- Syntaxe pour ajouter un privil\u00e8ge\nGRANT nomDuPrivilege (listeDesColonnes)\nON niveauPrivilege\nTO nomUsager_nomRole\n\n-- Syntaxe pour enlever un privil\u00e8ge\nREVOKE nomDuPrivilege\nON niveauPrivilege\nFROM nomUsager_nomRole\n</code></pre> <p>Voici une version clarifi\u00e9e et structur\u00e9e du message :</p> <ul> <li>nomDuPrivilege : Il s'agit du nom du privil\u00e8ge \u00e0 octroyer, tel que SELECT, INSERT ou CREATE TABLE. Il est possible d'attribuer plusieurs privil\u00e8ges simultan\u00e9ment en les s\u00e9parant par une virgule.</li> <li>listeDesColonnes : Ce param\u00e8tre est optionnel. Il permet de sp\u00e9cifier les colonnes sp\u00e9cifiques d'une table sur lesquelles le privil\u00e8ge est appliqu\u00e9. Par exemple, un utilisateur pourrait se voir accorder le droit de r\u00e9aliser des mises \u00e0 jour (UPDATE) uniquement sur certaines colonnes.</li> <li>niveauPrivilege : Indique le niveau auquel le privil\u00e8ge s'applique. Les options incluent un niveau global, applicable \u00e0 l'ensemble du syst\u00e8me, un niveau sp\u00e9cifique \u00e0 une base de donn\u00e9es, ou un niveau limit\u00e9 \u00e0 une table pr\u00e9cise.</li> <li>nomUsager_nomRole : D\u00e9termine \u00e0 quel utilisateur ou quel r\u00f4le le privil\u00e8ge est octroy\u00e9.</li> </ul>"},{"location":"mysql/autorisations/#exemple","title":"Exemple","text":"<pre><code>/* Attribution des droits SELECT et INSERT \u00e0 l'utilisateur 'test' \n   pour toutes les tables de la base de donn\u00e9es 'credit_social'. */\n\nGRANT SELECT, INSERT\nON credit_social.*\nTO test@localhost;\n\n/* Attribution du droit SELECT \u00e0 l'utilisateur 'test2' pour acc\u00e9der uniquement \n   aux colonnes id, nom et prenom de la table 'citoyen' dans la base de donn\u00e9es \n   'credit_social'. */\n\nGRANT SELECT (id, nom, prenom)\nON credit_social.citoyen\nTO test2@localhost;\n</code></pre> <pre><code>/* Apr\u00e8s avoir ajout\u00e9 ou supprim\u00e9 des privil\u00e8ges, il est crucial de rafra\u00eechir la liste des privil\u00e8ges. Pour ce faire, utilisez la commande suivante : */\n\nFLUSH PRIVILEGES;\n</code></pre>"},{"location":"mysql/autorisations/#liste-des-privileges","title":"Liste des privil\u00e8ges","text":"<p>Voici une courte liste des privil\u00e8ges que l'on peut attribuer \u00e0 un utilisateur :</p> <ul> <li>ALL : Octroie tous les privil\u00e8ges, \u00e0 l'exception de celui de les accorder \u00e0 d'autres utilisateurs.</li> <li>USAGE : N'accorde aucun privil\u00e8ge sp\u00e9cifique, \u00e9quivalent \u00e0 des droits minimaux.</li> <li>GRANT OPTION : Permet \u00e0 l'utilisateur d'octroyer des privil\u00e8ges \u00e0 d'autres ; ce privil\u00e8ge n'est pas inclus dans le privil\u00e8ge ALL.</li> <li>SELECT, INSERT, UPDATE, DELETE : Permettent respectivement de lire, ins\u00e9rer, modifier et supprimer des donn\u00e9es, conform\u00e9ment aux op\u00e9rations CRUD.</li> <li>CREATE TABLE, ALTER, DROP, REFERENCES : Offrent la possibilit\u00e9 de cr\u00e9er des tables, de les modifier, de les supprimer et de g\u00e9rer les contraintes de r\u00e9f\u00e9rence.</li> <li>CREATE ROUTINE, ALTER ROUTINE, EXECUTE : Permettent de cr\u00e9er, modifier et ex\u00e9cuter des proc\u00e9dures stock\u00e9es, des fonctions et des d\u00e9clencheurs.</li> </ul> <p>Pour une liste plus exhaustive des privil\u00e8ges disponibles, il est recommand\u00e9 de consulter la documentation officielle de MySQL.</p> <p>https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html </p>"},{"location":"mysql/autorisations/#niveau-des-privileges","title":"Niveau des privil\u00e8ges","text":"<p>Le niveau des privil\u00e8ges sp\u00e9cifie l'\u00e9tendue de l'acc\u00e8s accord\u00e9 et se divise en deux parties : la base de donn\u00e9es et la table ou la proc\u00e9dure stock\u00e9e concern\u00e9e.</p> <ul> <li><code>*.*</code> : Accorde des privil\u00e8ges sur toutes les bases de donn\u00e9es et toutes les tables ou proc\u00e9dures stock\u00e9es.</li> <li><code>credit_social.*</code> : Applique les privil\u00e8ges \u00e0 toutes les tables de la base de donn\u00e9es <code>credit_social</code>.</li> <li><code>credit_social.classe</code> : Restreint les privil\u00e8ges \u00e0 la table <code>classe</code> uniquement, au sein de la base de donn\u00e9es <code>credit_social</code>.</li> </ul>"},{"location":"mysql/autorisations/#afficher-les-autorisations-dun-utilisateur-ou-dun-role","title":"Afficher les autorisations d'un utilisateur ou d'un r\u00f4le","text":"<pre><code>SHOW GRANTS FOR 'usager_role'@'localhost';\n</code></pre>"},{"location":"mysql/convention/","title":"Convention de nommage MySQL","text":"<p>Bien que MySQL n'a pas vraiment de convention de nommage officiel, voici certaines des r\u00e8gles les plus utilis\u00e9es.</p> <p>Ces r\u00e8gles sont obligatoires dans notre cours.</p>"},{"location":"mysql/convention/#regles-generales","title":"R\u00e8gles g\u00e9n\u00e9rales","text":"<ul> <li>Toujours \u00e9crire les noms des tables et des colonnes (champs) en minuscule. \u00c7a peut aider \u00e0 \u00e9viter les erreurs, car MySQL est sensible \u00e0 la case</li> <li>Ne jamais utiliser d'espace, la remplacer par une barre de soulignement \"_\"</li> <li>Ne jamais utiliser de caract\u00e8res accentu\u00e9s</li> <li>Utilisez seulement des lettres dans les noms, pas de nombres ni de caract\u00e8res sp\u00e9ciaux</li> <li>\u00c9vitez d'utiliser un pr\u00e9fix dans le nom, \u00e7a complique inutilement le nom et nuit \u00e0 la visibilit\u00e9 (ex.: etudiants_prenom).</li> </ul>"},{"location":"mysql/convention/#nom-des-tables","title":"Nom des tables","text":"<ul> <li>Le nom doit \u00eatre au pluriel</li> <li>Le nom doit \u00eatre en minuscules (pas de CamelCase)</li> <li>Ne pas utiliser de pr\u00e9fix sauf si c'est in\u00e9vitable.</li> <li>Le nom doit \u00eatre clair et explicite</li> <li>Ne pas utiliser d'abr\u00e9viation</li> </ul>"},{"location":"mysql/convention/#nom-des-champs","title":"Nom des champs","text":"<ul> <li>Le nom doit \u00eatre en minuscules, sans espace et sans nombres</li> <li>On doit \u00e9viter les pr\u00e9fixes</li> <li>Utilisez un nom court, sans utiliser abr\u00e9viation par contre</li> <li>Ne pas utiliser de mot r\u00e9serv\u00e9 comme nom de champs, comme date par exemple</li> <li>Le nom d'une cl\u00e9 \u00e9trang\u00e8re devrait contenir le nom de la table et de sa cl\u00e9 primaire. Une cl\u00e9 \u00e9trang\u00e8re vers la table usager dont la cl\u00e9 primaire est le champ id devrait \u00eatre nomm\u00e9e usager_id</li> </ul>"},{"location":"mysql/creation_bd/","title":"Cr\u00e9ation de bases de donn\u00e9es","text":"<p>Pour cr\u00e9er une base de donn\u00e9es, utilisez la commande <code>CREATE DATABASE</code> suivie du nom souhait\u00e9 pour la base. Il est \u00e9galement possible d'ajuster le jeu de caract\u00e8res et la collation lors de la cr\u00e9ation, ou de laisser ces param\u00e8tres \u00e0 leurs valeurs par d\u00e9faut.</p>"},{"location":"mysql/creation_bd/#syntaxe-de-base","title":"Syntaxe de base","text":"<pre><code>CREATE DATABASE nom_de_la_base;\n</code></pre>"},{"location":"mysql/creation_bd/#avec-specification-de-jeu-de-caracteres-et-de-collation","title":"Avec sp\u00e9cification de jeu de caract\u00e8res et de collation","text":"<pre><code>CREATE DATABASE nom_de_la_base \n  CHARACTER SET nom_du_jeu_de_caract\u00e8res \n  COLLATE nom_de_la_collation;\n</code></pre>"},{"location":"mysql/creation_bd/#jeu-de-caracteres","title":"Jeu de caract\u00e8res","text":"<p>Le jeu de caract\u00e8res d\u00e9termine comment MySQL stocke les valeurs textuelles dans les tables. Par d\u00e9faut, <code>utf8mb4</code> est utilis\u00e9, couvrant la majorit\u00e9 des caract\u00e8res des langues occidentales.</p>"},{"location":"mysql/creation_bd/#changer-le-jeu-de-caracteres-par-defaut","title":"Changer le jeu de caract\u00e8res par d\u00e9faut","text":"<pre><code>CREATE DATABASE nom_de_la_base \n  CHARACTER SET nom_du_jeu_de_caract\u00e8res;\n</code></pre>"},{"location":"mysql/creation_bd/#lister-les-jeux-de-caracteres-disponibles","title":"Lister les jeux de caract\u00e8res disponibles","text":"<pre><code>SHOW CHARACTER SET;\n</code></pre>"},{"location":"mysql/creation_bd/#collation","title":"Collation","text":"<p>La collation d\u00e9finit les r\u00e8gles de comparaison entre caract\u00e8res, incluant la sensibilit\u00e9 \u00e0 la casse et l'ordre de tri. La collation par d\u00e9faut est <code>utf8mb4_general_ci</code>, optimis\u00e9e pour la vitesse mais moins pr\u00e9cise. Pour des comparaisons plus pr\u00e9cises, <code>utf8_unicode_520_ci</code> est recommand\u00e9e.</p>"},{"location":"mysql/creation_bd/#changer-la-collation-par-defaut","title":"Changer la collation par d\u00e9faut","text":"<pre><code>CREATE DATABASE nom_de_la_base \n  COLLATE nom_de_la_collation;\n</code></pre>"},{"location":"mysql/creation_bd/#lister-les-collations-disponibles","title":"Lister les collations disponibles","text":"<pre><code>SHOW COLLATION;\n</code></pre> <p>Syntaxe avec les valeurs recommand\u00e9es pour le jeu de caract\u00e8res et la collation :</p> <pre><code>CREATE DATABASE 'nom_de_la_bd'\n  CHARACTER SET = 'utf8mb4'\n  COLLATE = 'utf8_unicode_520_ci';\n</code></pre>"},{"location":"mysql/creation_bd/#modification-de-bases-de-donnees","title":"Modification de bases de donn\u00e9es","text":"<p>Pour modifier les propri\u00e9t\u00e9s d'une base de donn\u00e9es existante, comme le jeu de caract\u00e8res ou la collation, utilisez la commande <code>ALTER DATABASE</code>. Cette commande permet d'appliquer les m\u00eames options de jeu de caract\u00e8res et de collation que celles utilis\u00e9es avec <code>CREATE DATABASE</code>.</p>"},{"location":"mysql/creation_bd/#syntaxe-de-modification","title":"Syntaxe de modification","text":"<pre><code>ALTER DATABASE nom_de_la_bd\nCHARACTER SET = 'utf8mb4'\nCOLLATE = 'utf8_unicode_520_ci';\n</code></pre>"},{"location":"mysql/creation_bd/#suppression-de-bases-de-donnees","title":"Suppression de bases de donn\u00e9es","text":"<p>Pour supprimer une base de donn\u00e9es, la commande <code>DROP DATABASE</code> est utilis\u00e9e. Si la base de donn\u00e9es sp\u00e9cifi\u00e9e n'existe pas, cette commande g\u00e9n\u00e9rera une erreur. Pour \u00e9viter cela, vous pouvez pr\u00e9fixer le nom de la base de donn\u00e9es avec <code>IF EXISTS</code>, ce qui permet de ne supprimer la base que si elle existe d\u00e9j\u00e0.</p>"},{"location":"mysql/creation_bd/#syntaxe-de-suppression","title":"Syntaxe de suppression","text":"<pre><code>DROP DATABASE IF EXISTS nom_de_la_bd;\n</code></pre>"},{"location":"mysql/creation_bd/#sources","title":"Sources","text":"<ul> <li>Documentation Create table </li> <li>Jeux de caract\u00e8re et collation</li> <li>Diff\u00e9rence entre utf8mb4_general_ci, utf8mb4_unicode_ci et utf8_unicode_520_ci</li> </ul>"},{"location":"mysql/creation_table/","title":"Cr\u00e9ation de tables","text":"<p>Pour cr\u00e9er une table dans une base de donn\u00e9es, utilisez la commande <code>CREATE TABLE</code>. Cette commande permet de d\u00e9finir plusieurs options, mais nous allons nous concentrer ici sur les principales. Vous pouvez trouver la liste compl\u00e8te des options dans la documentation fournie en lien \u00e0 la fin de ce document.</p>"},{"location":"mysql/creation_table/#syntaxe-de-base","title":"Syntaxe de base","text":"<pre><code>CREATE TABLE IF NOT EXISTS nom_de_la_table (\n    nom_colonne1 type_de_donn\u00e9e1 attributs1,\n    nom_colonne2 type_de_donn\u00e9e2 attributs2,\n    ...\n    PRIMARY KEY (nom_colonne1),\n    FOREIGN KEY (nom_colonne2) REFERENCES autre_table(nom_colonne),\n    CONSTRAINT contrainte_nom UNIQUE (nom_colonne3)\n)\nENGINE = type_de_moteur,\nCOLLATE = type_de_collation;\n</code></pre>"},{"location":"mysql/creation_table/#explications","title":"Explications :","text":"<ul> <li>IF NOT EXISTS : Ajoutez cette option avant le nom de la table pour \u00e9viter de cr\u00e9er une table qui existe d\u00e9j\u00e0.</li> <li>Entre parenth\u00e8ses, listez chaque colonne avec son nom, son type de donn\u00e9es et d'autres attributs optionnels que vous souhaitez appliquer (comme les tailles de champ, les valeurs par d\u00e9faut, etc.).</li> <li>D\u00e9finissez \u00e9galement les cl\u00e9s primaires, les cl\u00e9s \u00e9trang\u00e8res et d'autres contraintes n\u00e9cessaires pour la gestion des relations et l'int\u00e9grit\u00e9 des donn\u00e9es.</li> <li>Apr\u00e8s les parenth\u00e8ses, sp\u00e9cifiez des options suppl\u00e9mentaires comme le moteur de base de donn\u00e9es (<code>ENGINE</code>) et la collation de la table (<code>COLLATE</code>), selon les besoins de votre syst\u00e8me de gestion de base de donn\u00e9es.</li> </ul> <p>Attention</p> <p>Lorsque vous incluez des cl\u00e9s \u00e9trang\u00e8res dans la d\u00e9finition d'une table, assurez-vous que les colonnes et les tables r\u00e9f\u00e9renc\u00e9es existent d\u00e9j\u00e0 dans la base de donn\u00e9es. Si ce n'est pas le cas, vous pouvez toujours les cr\u00e9er ult\u00e9rieurement. Apr\u00e8s avoir \u00e9tabli la table initiale, il est possible de modifier celle-ci pour ajouter des cl\u00e9s \u00e9trang\u00e8res. Pour ce faire, utilisez la commande <code>ALTER TABLE</code> pour int\u00e9grer les contraintes n\u00e9cessaires.</p>"},{"location":"mysql/creation_table/#modification-de-tables","title":"Modification de tables","text":"<p>Pour apporter des modifications \u00e0 une table existante, utilisez la commande <code>ALTER TABLE</code>. Cette commande permet d'appliquer des changements similaires \u00e0 ceux que vous pouvez r\u00e9aliser lors de la cr\u00e9ation d'une table avec <code>CREATE TABLE</code>.</p>"},{"location":"mysql/creation_table/#syntaxe-de-base_1","title":"Syntaxe de base","text":"<pre><code>ALTER TABLE nom_de_la_table\n    ADD COLUMN nouvelle_colonne type_de_donn\u00e9e;\nALTER TABLE nom_de_la_table\n    DROP COLUMN nom_de_la_colonne;\nALTER TABLE nom_de_la_table\n    MODIFY COLUMN nom_de_la_colonne nouveau_type_de_donn\u00e9e;\nALTER TABLE nom_de_la_table\n    ADD CONSTRAINT nom_de_la_contrainte UNIQUE (nom_de_la_colonne);\nALTER TABLE nom_de_la_table\n    DROP CONSTRAINT nom_de_la_contrainte;\n</code></pre>"},{"location":"mysql/creation_table/#options-communes","title":"Options communes :","text":"<ul> <li>ADD COLUMN : Ajoute une nouvelle colonne \u00e0 la table.</li> <li>DROP COLUMN : Supprime une colonne existante de la table.</li> <li>MODIFY COLUMN : Modifie le type de donn\u00e9es ou d'autres propri\u00e9t\u00e9s d'une colonne existante.</li> <li>ADD CONSTRAINT : Ajoute une contrainte, comme une cl\u00e9 primaire, une cl\u00e9 \u00e9trang\u00e8re ou une contrainte unique.</li> <li>DROP CONSTRAINT : Supprime une contrainte existante.</li> </ul> <p>Cette commande offre une grande flexibilit\u00e9 pour g\u00e9rer la structure des tables apr\u00e8s leur cr\u00e9ation initiale, vous permettant de r\u00e9pondre aux besoins \u00e9volutifs de votre base de donn\u00e9es.</p>"},{"location":"mysql/creation_table/#suppression-de-tables","title":"Suppression de tables","text":"<p>Pour supprimer une table de votre base de donn\u00e9es, utilisez la commande <code>DROP TABLE</code> suivie du nom de la table que vous souhaitez supprimer. Si la table sp\u00e9cifi\u00e9e n'existe pas, cette commande g\u00e9n\u00e9rera une erreur. Pour \u00e9viter cela, vous pouvez utiliser l'option <code>IF EXISTS</code> qui permet de supprimer la table seulement si elle existe d\u00e9j\u00e0, \u00e9vitant ainsi les erreurs potentielles.</p>"},{"location":"mysql/creation_table/#syntaxe-de-suppression-de-table","title":"Syntaxe de suppression de table","text":"<pre><code>DROP TABLE IF EXISTS nom_de_la_table;\n</code></pre> <p>Cette option garantit que la commande ne provoquera pas d'erreur si la table n'existe pas, rendant votre script SQL plus robuste et moins susceptible de s'arr\u00eater inopin\u00e9ment.</p>"},{"location":"mysql/creation_table/#source","title":"Source","text":"<ul> <li>Documentation Create table</li> </ul>"},{"location":"mysql/curseurs/","title":"Les curseurs","text":"<p>Un curseur en SQL permet de parcourir les lignes d'un r\u00e9sultat de requ\u00eate une par une, similaire \u00e0 une boucle \"while\" en programmation. C'est particuli\u00e8rement utile pour effectuer des traitements sp\u00e9cifiques sur chaque ligne obtenue d'une requ\u00eate.</p>"},{"location":"mysql/curseurs/#caracteristiques-des-curseurs","title":"Caract\u00e9ristiques des curseurs","text":"<ul> <li>Lecture seule : Les curseurs ne permettent pas de modifier les donn\u00e9es r\u00e9cup\u00e9r\u00e9es; ils servent uniquement \u00e0 lire les r\u00e9sultats.</li> <li>Parcours s\u00e9quentiel : Les lignes sont lues de la premi\u00e8re \u00e0 la derni\u00e8re sans possibilit\u00e9 de sauter ou revenir en arri\u00e8re. Pour modifier l'ordre de lecture, utilisez <code>ORDER BY</code> dans votre requ\u00eate.</li> <li>Donn\u00e9es dynamiques : En MySQL, les curseurs refl\u00e8tent l'\u00e9tat actuel de la base de donn\u00e9es. Si les donn\u00e9es sous-jacentes sont modifi\u00e9es pendant l'utilisation du curseur, ces modifications seront visibles.</li> <li>Contexte d'utilisation : Les curseurs peuvent \u00eatre utilis\u00e9s dans les proc\u00e9dures stock\u00e9es, les fonctions et les d\u00e9clencheurs.</li> </ul>"},{"location":"mysql/curseurs/#mise-en-uvre-des-curseurs","title":"Mise en \u0153uvre des curseurs","text":"<p>L'utilisation des curseurs se fait en quatre \u00e9tapes principales :</p>"},{"location":"mysql/curseurs/#1-declaration","title":"1. D\u00e9claration","text":"<p>Le curseur doit \u00eatre d\u00e9clar\u00e9 avec une requ\u00eate <code>SELECT</code> qui d\u00e9finit les donn\u00e9es \u00e0 parcourir.</p> <pre><code>DECLARE mon_curseur CURSOR FOR \n    SELECT colonne1, colonne2 FROM table WHERE condition;\n</code></pre>"},{"location":"mysql/curseurs/#2-ouverture","title":"2. Ouverture","text":"<p>Avant de pouvoir utiliser le curseur, il doit \u00eatre ouvert :</p> <pre><code>OPEN mon_curseur;\n</code></pre>"},{"location":"mysql/curseurs/#3-recuperation-des-donnees","title":"3. R\u00e9cup\u00e9ration des donn\u00e9es","text":"<p>Les donn\u00e9es sont r\u00e9cup\u00e9r\u00e9es ligne par ligne \u00e0 l'aide de la commande <code>FETCH</code>. Chaque <code>FETCH</code> r\u00e9cup\u00e8re la ligne suivante du r\u00e9sultat de la requ\u00eate et stocke les valeurs dans des variables pr\u00e9alablement d\u00e9clar\u00e9es.</p> <pre><code>FETCH mon_curseur INTO variable1, variable2;\n</code></pre>"},{"location":"mysql/curseurs/#4-fermeture","title":"4. Fermeture","text":"<p>Une fois toutes les donn\u00e9es trait\u00e9es, le curseur doit \u00eatre ferm\u00e9 pour lib\u00e9rer les ressources associ\u00e9es.</p> <pre><code>CLOSE mon_curseur;\n</code></pre>"},{"location":"mysql/curseurs/#gestion-des-exceptions","title":"Gestion des exceptions","text":"<p>Lorsqu'un <code>FETCH</code> tente de lire au-del\u00e0 de la derni\u00e8re ligne du r\u00e9sultat, une exception <code>NOT FOUND</code> est lev\u00e9e. Pour g\u00e9rer cette exception et \u00e9viter l'interruption du processus, un handler peut \u00eatre d\u00e9fini :</p> <pre><code>DECLARE CONTINUE HANDLER FOR NOT FOUND SET fin_enregistrement = 1;\n</code></pre> <p>Cette d\u00e9claration configure le comportement en cas d'exception, permettant au bloc de code de continuer l'ex\u00e9cution, typiquement en v\u00e9rifiant la valeur de la variable <code>fin_enregistrement</code> apr\u00e8s chaque <code>FETCH</code>.</p>"},{"location":"mysql/curseurs/#exemple-complet","title":"Exemple complet","text":"<p>Voici un exemple illustrant la cr\u00e9ation d'une proc\u00e9dure stock\u00e9e utilisant un curseur pour traiter les donn\u00e9es des employ\u00e9s :</p> <pre><code>DELIMITER $$\n\nCREATE PROCEDURE generer_listes_employes(IN nombre_annee INT)\nBEGIN\n    DECLARE fin_enregistrement INTEGER DEFAULT 0;\n    DECLARE nom VARCHAR(30);\n    DECLARE prenom VARCHAR(30);\n    DECLARE courriel VARCHAR(255);\n    DECLARE calcul_anciennete INT;\n\n    DECLARE curseur_employe CURSOR FOR \n        SELECT nom, prenom, courriel, TIMESTAMPDIFF(YEAR, date_embauche, NOW()) \n        FROM employes;\n\n    DECLARE CONTINUE HANDLER FOR NOT FOUND SET fin_enregistrement = 1;\n\n    OPEN curseur_employe;\n    boucle_employes: LOOP\n        FETCH curseur_employe INTO nom, prenom, courriel, calcul_anciennete;\n        IF fin_enregistrement = 1 THEN \n            LEAVE boucle_employes;\n        END IF;\n        IF calcul_anciennete &lt; nombre_annee THEN\n            INSERT INTO employe_moins(nom, prenom, courriel);\n        ELSE\n            INSERT INTO employe_plus(nom, prenom, courriel);\n        END IF;\n    END LOOP;\n    CLOSE curseur_employe;\nEND$$\n\nDELIMITER ;\n</code></pre> <p>Cette proc\u00e9dure cr\u00e9e deux listes de diffusion bas\u00e9es sur l'anciennet\u00e9 des employ\u00e9s, en utilisant un curseur pour parcourir et traiter chaque employ\u00e9 individuellement.</p>"},{"location":"mysql/curseurs/#sources-et-documentation-supplementaire","title":"Sources et documentation suppl\u00e9mentaire","text":"<ul> <li>https://dev.mysql.com/doc/refman/8.0/en/cursors.html</li> <li>https://www.mysqltutorial.org/mysql-cursor/</li> </ul>"},{"location":"mysql/declencheurs/","title":"D\u00e9clencheurs (Triggers)","text":"<p>Un d\u00e9clencheur est une routine automatique associ\u00e9e \u00e0 une table dans une base de donn\u00e9es. Les instructions du d\u00e9clencheur s'ex\u00e9cutent automatiquement lors d'une insertion, mise \u00e0 jour, ou suppression dans la table li\u00e9e, affectant chaque ligne modifi\u00e9e. Le moment de l'ex\u00e9cution du d\u00e9clencheur doit \u00eatre sp\u00e9cifi\u00e9 : avant (BEFORE) ou apr\u00e8s (AFTER) l'ex\u00e9cution de l'instruction SQL. Chaque table peut comporter jusqu'\u00e0 six d\u00e9clencheurs : avant ou apr\u00e8s chacun des trois types d'op\u00e9rations (INSERT, UPDATE, DELETE).</p> <p>Les d\u00e9clencheurs peuvent modifier ou ins\u00e9rer des donn\u00e9es dans n'importe quelle table de la base de donn\u00e9es, sauf dans celle utilis\u00e9e par la requ\u00eate d\u00e9clencheuse. Pour les op\u00e9rations sur la table li\u00e9e au d\u00e9clencheur, seule la ligne en cours de traitement peut \u00eatre manipul\u00e9e.</p>"},{"location":"mysql/declencheurs/#pourquoi-utiliser-des-declencheurs","title":"Pourquoi utiliser des d\u00e9clencheurs ?","text":"<ul> <li>Validation des donn\u00e9es : Assurer l'int\u00e9grit\u00e9 des donn\u00e9es avant leur insertion ou modification.</li> <li>Traitements complexes : G\u00e9rer des op\u00e9rations complexes affectant plusieurs tables, utiles notamment lors de la gestion de cl\u00e9s \u00e9trang\u00e8res.</li> <li>Audit : Suivre les modifications dans la base de donn\u00e9es.</li> <li>Mise \u00e0 jour automatique : Actualiser les informations fr\u00e9quemment consult\u00e9es, comme le solde d'un compte client.</li> </ul>"},{"location":"mysql/declencheurs/#creation-dun-declencheur","title":"Cr\u00e9ation d'un d\u00e9clencheur","text":"<p>La syntaxe pour cr\u00e9er un d\u00e9clencheur est la suivante :</p> <pre><code>CREATE TRIGGER nomTrigger\n    momentDuDeclenchement operationSQL ON nomTable\n    FOR EACH ROW\n    corpsDuTrigger;\n</code></pre> <ul> <li>momentDuDeclenchement : BEFORE ou AFTER.</li> <li>operationSQL : INSERT, UPDATE, ou DELETE.</li> <li>Le corpsDuTrigger peut contenir plusieurs requ\u00eates, encapsul\u00e9es entre BEGIN et END si n\u00e9cessaire.</li> </ul>"},{"location":"mysql/declencheurs/#utilisation-des-mots-cles-new-et-old","title":"Utilisation des mots-cl\u00e9s NEW et OLD","text":"<ul> <li>NEW : Acc\u00e8de aux donn\u00e9es telles qu'elles sont apr\u00e8s la modification (disponible pour INSERT et UPDATE).</li> <li>OLD : Acc\u00e8de aux donn\u00e9es avant la modification (disponible pour UPDATE et DELETE).</li> </ul> Requ\u00eate OLD NEW INSERT - Oui UPDATE Oui Oui DELETE Oui -"},{"location":"mysql/declencheurs/#gestion-des-erreurs-dans-les-declencheurs","title":"Gestion des erreurs dans les d\u00e9clencheurs","text":"<ul> <li>Si un d\u00e9clencheur BEFORE \u00e9choue, l'op\u00e9ration sur la ligne est annul\u00e9e.</li> <li>Les erreurs dans les d\u00e9clencheurs AFTER annulent l'op\u00e9ration en cours.</li> <li>Utilisation de <code>SIGNAL</code> pour renvoyer des erreurs personnalis\u00e9es dans les d\u00e9clencheurs.</li> </ul>"},{"location":"mysql/declencheurs/#suppression-dun-declencheur","title":"Suppression d'un d\u00e9clencheur","text":"<p>Pour supprimer un d\u00e9clencheur :</p> <pre><code>DROP TRIGGER IF EXISTS nomTrigger;\n</code></pre> <p>La suppression d'une table entra\u00eene aussi la suppression de tous les d\u00e9clencheurs qui lui sont associ\u00e9s.</p>"},{"location":"mysql/declencheurs/#restrictions","title":"Restrictions","text":"<ul> <li>Les transactions ne sont pas autoris\u00e9es dans les d\u00e9clencheurs (pas de START TRANSACTION, COMMIT, ou ROLLBACK).</li> <li>Les proc\u00e9dures stock\u00e9es utilis\u00e9es dans les d\u00e9clencheurs ne peuvent pas retourner de valeurs sauf via des param\u00e8tres OUT ou IN/OUT.</li> </ul>"},{"location":"mysql/declencheurs/#exemple-de-declencheur","title":"Exemple de d\u00e9clencheur","text":"<p>Voici un exemple o\u00f9 un changement de guilde par un joueur est enregistr\u00e9 :</p> <pre><code>DELIMITER $$\n\nCREATE TRIGGER joueur_after_update\n    AFTER UPDATE\n    ON joueurs FOR EACH ROW\n    BEGIN\n        IF OLD.guilde_id &lt;&gt; NEW.guilde_id THEN \n            INSERT INTO joueurs_guildes_log (joueur_id, old_guilde_id, new_guilde_id, mod_date)\n            VALUES (OLD.id, OLD.guilde_id, NEW.guilde_id, NOW());\n        END IF;\n    END $$\n\nDELIMITER ;\n</code></pre>"},{"location":"mysql/declencheurs/#documentation","title":"Documentation","text":"<ul> <li>https://www.mysqltutorial.org/mysql-triggers/</li> <li>https://www.javatpoint.com/mysql-trigger </li> <li>https://dev.mysql.com/doc/refman/8.0/en/trigger-syntax.html</li> </ul>"},{"location":"mysql/fonctions/","title":"Les fonctions","text":"<p>Une fonction en SQL est une routine programm\u00e9e qui retourne une valeur unique et qui peut \u00eatre utilis\u00e9e \u00e0 plusieurs reprises. MySQL inclut plusieurs fonctions pr\u00e9d\u00e9finies telles que <code>NOW()</code> et <code>CONCAT()</code>, et permet \u00e9galement la cr\u00e9ation de fonctions personnalis\u00e9es.</p>"},{"location":"mysql/fonctions/#creation-dune-fonction","title":"Cr\u00e9ation d'une fonction","text":""},{"location":"mysql/fonctions/#syntaxe-de-base","title":"Syntaxe de base","text":"<pre><code>DELIMITER $$\n\nCREATE FUNCTION [IF NOT EXISTS] nom_fonction(\n    param\u00e8tre1 TYPE,\n    param\u00e8tre2 TYPE, \u2026\n)\nRETURNS type_de_retour\n[NOT] DETERMINISTIC\nBEGIN\n    -- Instructions\n    RETURN valeur;\nEND $$\n\nDELIMITER ;\n</code></pre>"},{"location":"mysql/fonctions/#parametres","title":"Param\u00e8tres","text":"<ul> <li>D\u00e9finis par un nom et un type : Chaque param\u00e8tre est d\u00e9fini par un nom suivi de son type de donn\u00e9es.</li> <li>S\u00e9par\u00e9s par des virgules : Les param\u00e8tres sont list\u00e9s et s\u00e9par\u00e9s par des virgules.</li> </ul>"},{"location":"mysql/fonctions/#type-de-retour","title":"Type de retour","text":"<ul> <li>Specifi\u00e9 apr\u00e8s <code>RETURNS</code> : Le type de la valeur de retour de la fonction doit \u00eatre un type de donn\u00e9es valide en MySQL (par exemple, <code>INTEGER</code>, <code>VARCHAR()</code>, <code>TINYINT(1)</code>).</li> </ul>"},{"location":"mysql/fonctions/#deterministic-vs-not-deterministic","title":"DETERMINISTIC vs NOT DETERMINISTIC","text":"<ul> <li>DETERMINISTIC : La fonction retourne toujours la m\u00eame valeur pour les m\u00eames param\u00e8tres.</li> <li>NOT DETERMINISTIC : La fonction peut retourner des valeurs diff\u00e9rentes m\u00eame pour les m\u00eames param\u00e8tres.</li> <li>Importance de la sp\u00e9cification : Cette sp\u00e9cification est importante pour l'optimisation et la performance. Par d\u00e9faut, une fonction est consid\u00e9r\u00e9e comme NOT DETERMINISTIC.</li> </ul>"},{"location":"mysql/fonctions/#traitement","title":"Traitement","text":"<ul> <li>D\u00e9claration de variables : Typiquement, une variable est d\u00e9clar\u00e9e au d\u00e9but pour stocker le r\u00e9sultat \u00e0 retourner.</li> <li>Instruction RETURN : La fonction doit inclure une instruction <code>RETURN</code> qui termine la fonction et retourne la valeur.</li> </ul>"},{"location":"mysql/fonctions/#gestion-des-erreurs","title":"Gestion des erreurs","text":"<ul> <li>Utilisation de HANDLERs : Des gestionnaires d'erreurs (<code>HANDLER</code>) peuvent \u00eatre utilis\u00e9s pour contr\u00f4ler les exceptions et les erreurs.</li> </ul>"},{"location":"mysql/fonctions/#exemple-de-creation-de-fonction","title":"Exemple de cr\u00e9ation de fonction","text":"<pre><code>DELIMITER $$\n\nCREATE FUNCTION note_commentaire(resultat INTEGER)\nRETURNS VARCHAR(20)\nDETERMINISTIC\nBEGIN\n    DECLARE commentaire VARCHAR(20);\n    IF resultat &gt;= 60 THEN\n        SET commentaire = 'R\u00e9ussite';\n    ELSE\n        SET commentaire = '\u00c9chec';\n    END IF;\n    RETURN commentaire;\nEND $$\n\nDELIMITER ;\n</code></pre>"},{"location":"mysql/fonctions/#utilisation-dune-fonction","title":"Utilisation d'une fonction","text":"<p>Les fonctions peuvent \u00eatre utilis\u00e9es dans toutes les requ\u00eates SQL ou proc\u00e9dures stock\u00e9es.</p> <pre><code>SELECT note_commentaire(r.note)\nFROM resultats AS r\nWHERE r.etudiant_id = 1234;\n</code></pre>"},{"location":"mysql/fonctions/#modification-dune-fonction","title":"Modification d'une fonction","text":"<p>Pour modifier une fonction, il est n\u00e9cessaire de la supprimer et de la recr\u00e9er, car SQL ne permet pas de modifier directement le corps d'une fonction.</p>"},{"location":"mysql/fonctions/#suppression-dune-fonction","title":"Suppression d'une fonction","text":""},{"location":"mysql/fonctions/#syntaxe-de-suppression","title":"Syntaxe de suppression","text":"<pre><code>DROP FUNCTION [IF EXISTS] nom_fonction;\n</code></pre>"},{"location":"mysql/gestion_erreurs/","title":"Gestion des erreurs","text":"<p>La gestion des erreurs dans les scripts SQL, les proc\u00e9dures stock\u00e9es, ou les d\u00e9clencheurs est cruciale pour maintenir l'int\u00e9grit\u00e9 de la base de donn\u00e9es et assurer un traitement appropri\u00e9 des donn\u00e9es. On utilise des gestionnaires d'erreurs (HANDLERs) pour intercepter les erreurs, et la commande <code>SIGNAL</code> pour g\u00e9n\u00e9rer des erreurs personnalis\u00e9es.</p>"},{"location":"mysql/gestion_erreurs/#handler","title":"HANDLER","text":"<p>Un handler permet de g\u00e9rer les erreurs ou conditions sp\u00e9cifiques qui surviennent dans un bloc SQL. </p>"},{"location":"mysql/gestion_erreurs/#syntaxe","title":"Syntaxe","text":"<pre><code>DECLARE handler_action HANDLER FOR condition_value statement;\n</code></pre> <ul> <li>handler_action : D\u00e9finit si l'ex\u00e9cution doit continuer (<code>CONTINUE</code>) ou se terminer (<code>EXIT</code>) apr\u00e8s l'interception de l'erreur.</li> <li>condition_value : Sp\u00e9cifie l'erreur \u00e0 intercepter. Peut \u00eatre un <code>mysql_error_code</code>, un <code>SQLSTATE value</code>, ou une condition nomm\u00e9e pr\u00e9alablement d\u00e9finie.</li> </ul>"},{"location":"mysql/gestion_erreurs/#exemples-de-conditions","title":"Exemples de conditions","text":"<ul> <li><code>mysql_error_code</code> : Code d'erreur MySQL sp\u00e9cifique.</li> <li><code>SQLSTATE value</code> : Code d'\u00e9tat SQL \u00e0 cinq caract\u00e8res.</li> <li><code>condition_name</code> : Nom de condition associ\u00e9 \u00e0 un code d'erreur ou d'\u00e9tat.</li> <li><code>SQLWARNINGS</code> : Pour les avertissements SQLSTATE commen\u00e7ant par '01'.</li> <li><code>NOT FOUND</code> : Utilis\u00e9 pour g\u00e9rer les situations o\u00f9 une requ\u00eate ne retourne pas de r\u00e9sultat.</li> <li><code>SQLEXCEPTION</code> : Pour les erreurs SQLSTATE ne commen\u00e7ant pas par '00', '01', ou '02'.</li> </ul>"},{"location":"mysql/gestion_erreurs/#exemple-dutilisation","title":"Exemple d'utilisation","text":"<pre><code>DECLARE CONTINUE HANDLER FOR SQLEXCEPTION\nBEGIN\n    ROLLBACK;\n    SELECT 'Une erreur est survenue, les op\u00e9rations ont \u00e9t\u00e9 annul\u00e9es.';\nEND;\n</code></pre>"},{"location":"mysql/gestion_erreurs/#signal","title":"SIGNAL","text":"<p><code>SIGNAL</code> est utilis\u00e9 pour g\u00e9n\u00e9rer une erreur ou un \u00e9tat qui interrompt l'ex\u00e9cution du script.</p>"},{"location":"mysql/gestion_erreurs/#syntaxe_1","title":"Syntaxe","text":"<pre><code>SIGNAL SQLSTATE VALUE 'erreur_code' SET signal_information_item = value;\n</code></pre> <ul> <li>SQLSTATE : Utilis\u00e9 g\u00e9n\u00e9ralement avec '45000' pour indiquer une erreur d\u00e9finie par l'utilisateur.</li> <li>signal_information_item : Permet de d\u00e9finir des informations suppl\u00e9mentaires sur l'erreur, comme <code>MESSAGE_TEXT</code>.</li> </ul>"},{"location":"mysql/gestion_erreurs/#exemple","title":"Exemple","text":"<pre><code>IF (nombre &lt; 0) THEN\n    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'La valeur doit \u00eatre sup\u00e9rieure \u00e0 0';\nEND IF;\n</code></pre>"},{"location":"mysql/gestion_erreurs/#integration-avec-des-handlers","title":"Int\u00e9gration avec des Handlers","text":"<p>Combinez <code>SIGNAL</code> et <code>HANDLER</code> pour g\u00e9rer finement les erreurs dans vos proc\u00e9dures :</p>"},{"location":"mysql/gestion_erreurs/#exemple-avec-handler","title":"Exemple avec Handler","text":"<pre><code>CREATE PROCEDURE exemplebd.test_error(nombre INT)\nBEGIN\n    DECLARE EXIT HANDLER FOR SQLSTATE '45000'\n    BEGIN\n        SELECT 'La valeur doit \u00eatre sup\u00e9rieure \u00e0 0' AS message_erreur;\n    END;\n\n    IF (nombre &lt; 0) THEN\n        SIGNAL SQLSTATE '45000';\n    END IF;\n\n    SELECT nombre;\nEND;\n</code></pre>"},{"location":"mysql/gestion_erreurs/#gestion-derreurs-dans-les-applications-clientes","title":"Gestion d'erreurs dans les applications clientes","text":"<p>Les erreurs g\u00e9n\u00e9r\u00e9es par <code>SIGNAL</code> peuvent \u00eatre captur\u00e9es et g\u00e9r\u00e9es dans les applications clientes, comme avec Python en utilisant MySQL Connector :</p> <pre><code>import mysql.connector as mysql\n\ndef TestError():\n    try:\n        connection = mysql.connect(**db_config)\n        cursor = connection.cursor()\n        cursor.callproc('test_error', [-2])\n        for result in cursor.stored_results():\n            print(result.fetchall())\n    except mysql.Error as err:\n        print('Erreur intercept\u00e9e:', err.msg)\n    finally:\n        if connection.is_connected():\n            cursor.close()\n            connection.close()\n\nTestError()\n</code></pre>"},{"location":"mysql/gestion_erreurs/#source","title":"Source","text":"<ul> <li>https://dev.mysql.com/doc/refman/8.0/en/declare-handler.html </li> <li>https://dev.mysql.com/doc/refman/8.0/en/signal.html </li> <li>https://www.mysqltutorial.org/mysql-error-handling-in-stored-procedures/</li> </ul>"},{"location":"mysql/insertion/","title":"Insertion de donn\u00e9es","text":"<p>La commande <code>INSERT</code> permet d'ajouter des enregistrements \u00e0 une table dans une base de donn\u00e9es.</p>"},{"location":"mysql/insertion/#syntaxe-de-base","title":"Syntaxe de base","text":""},{"location":"mysql/insertion/#methode-simple","title":"M\u00e9thode simple","text":"<pre><code>INSERT INTO ma_table\nVALUES (valeur1, valeur2, valeur3);\n</code></pre>"},{"location":"mysql/insertion/#avantages","title":"Avantages","text":"<ul> <li>Requ\u00eate concise.</li> <li>Aucune modification n\u00e9cessaire si les noms de colonnes changent.</li> </ul>"},{"location":"mysql/insertion/#inconvenients","title":"Inconv\u00e9nients","text":"<ul> <li>Risque accru d'erreurs si les valeurs ne correspondent pas exactement en nombre et en position aux colonnes de la table.</li> </ul>"},{"location":"mysql/insertion/#methode-precise","title":"M\u00e9thode pr\u00e9cise","text":"<pre><code>INSERT INTO ma_table (colonne1, colonne2, colonne3)\nVALUES (valeur1, valeur2, valeur3);\n</code></pre>"},{"location":"mysql/insertion/#avantages_1","title":"Avantages","text":"<ul> <li>Plus grande pr\u00e9cision dans la sp\u00e9cification des colonnes.</li> <li>Possibilit\u00e9 d'ins\u00e9rer des valeurs sans respecter l'ordre des colonnes ni inclure toutes les colonnes.</li> </ul>"},{"location":"mysql/insertion/#inconvenient","title":"Inconv\u00e9nient","text":"<ul> <li>Requ\u00eates plus longues \u00e0 \u00e9crire.</li> <li>N\u00e9cessite une mise \u00e0 jour de la requ\u00eate si le nom d'une colonne est modifi\u00e9.</li> </ul>"},{"location":"mysql/insertion/#inserer-des-donnees-seulement-dans-certaines-colonnes","title":"Ins\u00e9rer des donn\u00e9es seulement dans certaines colonnes","text":"<pre><code>INSERT INTO ma_table (colonne1)\nVALUES (valeur1);\n</code></pre> <p>Les champs non sp\u00e9cifi\u00e9s recevront leur valeur par d\u00e9faut, ou NULL si aucune valeur par d\u00e9faut n'est d\u00e9finie.</p>"},{"location":"mysql/insertion/#inserer-plusieurs-lignes-simultanement","title":"Ins\u00e9rer plusieurs lignes simultan\u00e9ment","text":"<pre><code>INSERT INTO ma_table\nVALUES  (valeur_a1, valeur_a2, valeur_a3),\n        (valeur_b1, valeur_b2, valeur_b3),\n        (valeur_c1, valeur_c2, valeur_c3),\n        (valeur_d1, valeur_d2, valeur_d3);\n</code></pre> <pre><code>INSERT INTO ma_table (colonne1, colonne2, colonne3)\nVALUES  (valeur_a1, valeur_a2, valeur_a3),\n        (valeur_b1, valeur_b2, valeur_b3),\n        (valeur_c1, valeur_c2, valeur_c3),\n        (valeur_d1, valeur_d2, valeur_d3);\n</code></pre>"},{"location":"mysql/insertion/#inserer-des-valeurs-provenant-dune-autre-table","title":"Ins\u00e9rer des valeurs provenant d'une autre table","text":"<pre><code>INSERT INTO ma_table (colonne1, colonne2, colonne3)\n    SELECT valeur1, valeur2, valeur3\n    FROM table_source;\n</code></pre> <p>Cette m\u00e9thode permet l'insertion de donn\u00e9es issues de requ\u00eates complexes, y compris avec des jointures et des conditions.</p>"},{"location":"mysql/insertion/#inserer-tout-le-contenu-dune-autre-table","title":"Ins\u00e9rer tout le contenu d'une autre table","text":"<pre><code>INSERT INTO ma_table TABLE table_source\n</code></pre>"},{"location":"mysql/insertion/#gestion-des-colonnes-auto-increment","title":"Gestion des colonnes auto-incr\u00e9ment","text":"<p>Les colonnes de type auto-incr\u00e9ment ne doivent pas \u00eatre incluses dans les requ\u00eates d'insertion, car elles sont automatiquement remplies.</p>"},{"location":"mysql/insertion/#recuperer-la-valeur-dune-colonne-auto-increment","title":"R\u00e9cup\u00e9rer la valeur d'une colonne auto-incr\u00e9ment","text":"<p>Apr\u00e8s une insertion, r\u00e9cup\u00e9rez la premi\u00e8re valeur auto-incr\u00e9ment\u00e9e ins\u00e9r\u00e9e avec succ\u00e8s :</p> <pre><code>SELECT last_insert_id();\n</code></pre>"},{"location":"mysql/procedures/","title":"Proc\u00e9dures stock\u00e9es","text":"<p>Une proc\u00e9dure stock\u00e9e est un ensemble d'instructions SQL enregistr\u00e9es sur le serveur MySQL, qui peuvent \u00eatre r\u00e9utilis\u00e9es. Contrairement \u00e0 une fonction, une proc\u00e9dure stock\u00e9e peut retourner un ou plusieurs jeux de r\u00e9sultats.</p>"},{"location":"mysql/procedures/#creation-dune-procedure","title":"Cr\u00e9ation d'une proc\u00e9dure","text":""},{"location":"mysql/procedures/#syntaxe-de-base","title":"Syntaxe de base","text":"<pre><code>DELIMITER $$\n\nCREATE PROCEDURE nom_procedure()\nBEGIN\n  -- Traitement\nEND $$\n\nDELIMITER ;\n</code></pre>"},{"location":"mysql/procedures/#parametres","title":"Param\u00e8tres","text":"<p>Les param\u00e8tres d'une proc\u00e9dure sont d\u00e9finis par leur nom, leur type de donn\u00e9es et leur mode (IN, OUT, ou INOUT) :</p> <ul> <li>IN : Le param\u00e8tre est pass\u00e9 \u00e0 la proc\u00e9dure et utilis\u00e9 pour les calculs internes.</li> <li>OUT : La proc\u00e9dure peut modifier ce param\u00e8tre pour retourner une valeur.</li> <li>INOUT : Combinant les modes IN et OUT, ce param\u00e8tre peut \u00eatre modifi\u00e9 et lu.</li> <li>Par d\u00e9faut, un param\u00e8tre est consid\u00e9r\u00e9 comme IN si aucun mode n'est sp\u00e9cifi\u00e9.</li> <li>Les param\u00e8tres doivent \u00eatre s\u00e9par\u00e9s par des virgules.</li> </ul>"},{"location":"mysql/procedures/#traitement","title":"Traitement","text":"<ul> <li>Une proc\u00e9dure stock\u00e9e peut mais n'est pas oblig\u00e9e de retourner une valeur. Elle peut effectuer diverses op\u00e9rations, comme supprimer des enregistrements suivant certains crit\u00e8res.</li> <li>Il est conseill\u00e9 de retourner un indicateur de succ\u00e8s ou d'erreur pour signaler l'issue de la proc\u00e9dure.</li> <li>Les gestionnaires d'erreurs (<code>HANDLERs</code>) peuvent \u00eatre utilis\u00e9s pour contr\u00f4ler le traitement et g\u00e9rer les exceptions.</li> </ul>"},{"location":"mysql/procedures/#utilisation-de-variables","title":"Utilisation de variables","text":"<p>Les variables dans une proc\u00e9dure sont d\u00e9clar\u00e9es comme suit :</p> <pre><code>DECLARE nom_variable type_de_donnee [DEFAULT valeur_default];\n</code></pre> <ul> <li>DEFAULT est optionnel et permet d'assigner une valeur initiale \u00e0 la variable.</li> </ul> <p>Exemples d'utilisation de variables :</p> <pre><code>DECLARE prenom VARCHAR(50) DEFAULT 'Lucien';\n\nSET prenom = 'Paul';\n\nSELECT u.prenom INTO prenom\nFROM usager u\nWHERE u.id = 1234;\n</code></pre> <ul> <li>Les variables peuvent \u00eatre assign\u00e9es directement avec <code>SET</code> ou via un <code>SELECT ... INTO</code>, qui doit retourner une valeur unique.</li> </ul>"},{"location":"mysql/procedures/#suppression-dune-procedure","title":"Suppression d'une proc\u00e9dure","text":"<p>Pour supprimer une proc\u00e9dure stock\u00e9e, utilisez :</p> <pre><code>DROP PROCEDURE [IF EXISTS] nom_procedure;\n</code></pre> <p>Ressources</p> <ul> <li>Documentation officielle </li> <li>MySQL Tutorial</li> </ul>"},{"location":"mysql/roles/","title":"Gestion des r\u00f4les dans MySQL","text":"<p>Les r\u00f4les dans MySQL sont des collections nomm\u00e9es de privil\u00e8ges qui simplifient la gestion des droits d'acc\u00e8s des utilisateurs. Un r\u00f4le peut \u00eatre attribu\u00e9 \u00e0 plusieurs utilisateurs, permettant une gestion centralis\u00e9e des permissions.</p>"},{"location":"mysql/roles/#creer-un-role","title":"Cr\u00e9er un r\u00f4le","text":"<p>Pour cr\u00e9er un r\u00f4le, utilisez la commande <code>CREATE ROLE</code>. Vous pouvez cr\u00e9er plusieurs r\u00f4les simultan\u00e9ment en les listant, s\u00e9par\u00e9s par des virgules.</p> <pre><code>CREATE ROLE IF NOT EXISTS 'nomRole1', 'nomRole2';\n</code></pre>"},{"location":"mysql/roles/#ajouter-ou-enlever-des-privileges-a-un-role","title":"Ajouter ou enlever des privil\u00e8ges \u00e0 un r\u00f4le","text":"<p>Pour g\u00e9rer les privil\u00e8ges d'un r\u00f4le, r\u00e9f\u00e9rez-vous \u00e0 la documentation sur les privil\u00e8ges pour les commandes sp\u00e9cifiques, telles que <code>GRANT</code> et <code>REVOKE</code>.</p>"},{"location":"mysql/roles/#accorder-un-role-a-un-utilisateur","title":"Accorder un r\u00f4le \u00e0 un utilisateur","text":"<p>Pour attribuer un r\u00f4le \u00e0 un ou plusieurs utilisateurs, utilisez la commande <code>GRANT</code>. Notez qu'il est n\u00e9cessaire d'indiquer l'h\u00f4te si celui-ci est sp\u00e9cifique.</p> <pre><code>GRANT 'nomRole1' TO 'user1', 'user2'@'192.168.1.%';\n</code></pre>"},{"location":"mysql/roles/#revoquer-un-role-dun-utilisateur","title":"R\u00e9voquer un r\u00f4le d'un utilisateur","text":"<p>Pour retirer un r\u00f4le d'un ou plusieurs utilisateurs, utilisez la commande <code>REVOKE</code>. Comme pour l'attribution, l'h\u00f4te doit \u00eatre sp\u00e9cifi\u00e9 si n\u00e9cessaire.</p> <pre><code>REVOKE 'nomRole1' FROM 'user1', 'user2'@'192.168.1.%';\n</code></pre>"},{"location":"mysql/roles/#supprimer-un-role","title":"Supprimer un r\u00f4le","text":"<p>Pour supprimer un r\u00f4le existant :</p> <pre><code>DROP ROLE 'nomRole1';\n</code></pre>"},{"location":"mysql/roles/#activer-un-role","title":"Activer un r\u00f4le","text":"<p>Un r\u00f4le doit \u00eatre activ\u00e9 pour un utilisateur pour qu'il prenne effet. Un utilisateur ne peut avoir qu'un seul r\u00f4le actif \u00e0 la fois. L'utilisateur doit se connecter pour activer son r\u00f4le.</p> <pre><code>SET ROLE 'nomRole';\n</code></pre>"},{"location":"mysql/roles/#afficher-le-role-actif","title":"Afficher le r\u00f4le actif","text":"<p>Pour v\u00e9rifier quel r\u00f4le est actuellement actif pour l'utilisateur connect\u00e9 :</p> <pre><code>SELECT current_role();\n</code></pre> <p>Si aucun r\u00f4le n'est actif, le r\u00e9sultat sera <code>NULL</code>.</p>"},{"location":"mysql/roles/#definir-un-role-par-defaut","title":"D\u00e9finir un r\u00f4le par d\u00e9faut","text":"<p>Pour que le r\u00f4le soit automatiquement activ\u00e9 lors de la connexion d'un utilisateur, vous pouvez le d\u00e9finir comme r\u00f4le par d\u00e9faut :</p> <pre><code>SET DEFAULT ROLE 'nomRole' FOR 'nomUsager';\n</code></pre> <p>Cette configuration facilite la gestion des permissions, en s'assurant que les utilisateurs disposent des privil\u00e8ges appropri\u00e9s d\u00e8s leur connexion.</p>"},{"location":"mysql/transactions/","title":"Transactions","text":"<p>Une transaction en SQL est un ensemble d'op\u00e9rations ex\u00e9cut\u00e9es comme un seul bloc logique, garantissant ainsi la coh\u00e9rence et l'int\u00e9grit\u00e9 des donn\u00e9es. Ces op\u00e9rations peuvent \u00eatre valid\u00e9es (COMMIT) ou annul\u00e9es (ROLLBACK). Utiliser des transactions est crucial pour pr\u00e9server l'int\u00e9grit\u00e9 des donn\u00e9es face aux erreurs humaines ou aux probl\u00e8mes syst\u00e8mes, tels que les pannes de serveur durant le traitement.</p>"},{"location":"mysql/transactions/#demarrer-une-transaction","title":"D\u00e9marrer une transaction","text":""},{"location":"mysql/transactions/#autocommit","title":"AUTOCOMMIT","text":"<p>Par d\u00e9faut, MySQL valide automatiquement chaque requ\u00eate individuellement. Pour modifier ce comportement et permettre la gestion manuelle des transactions, on peut d\u00e9sactiver l'autocommit pour la session en cours.</p> <pre><code>-- D\u00e9sactiver l'autocommit\nSET autocommit = 0;\n</code></pre> <p>La commande <code>START TRANSACTION</code> est couramment utilis\u00e9e pour initier explicitement une transaction. Toutes les op\u00e9rations suivantes seront alors en attente jusqu'\u00e0 validation ou annulation de la transaction.</p> <pre><code>-- D\u00e9marrer une transaction\nSTART TRANSACTION;\nINSERT INTO athlete (nom, prenom) VALUES ('Laurier', 'William');\n</code></pre>"},{"location":"mysql/transactions/#terminer-une-transaction","title":"Terminer une transaction","text":""},{"location":"mysql/transactions/#commit","title":"COMMIT","text":"<p>Pour valider toutes les op\u00e9rations r\u00e9alis\u00e9es depuis le d\u00e9but de la transaction et les rendre permanentes, utilisez <code>COMMIT</code>.</p> <pre><code>START TRANSACTION;\n-- Op\u00e9rations \u00e0 effectuer\nCOMMIT;\n</code></pre>"},{"location":"mysql/transactions/#rollback","title":"ROLLBACK","text":"<p>Pour annuler toutes les op\u00e9rations depuis le d\u00e9but de la transaction, utilisez <code>ROLLBACK</code>.</p> <pre><code>START TRANSACTION;\n-- Op\u00e9rations \u00e0 effectuer\nROLLBACK;\n</code></pre>"},{"location":"mysql/transactions/#utiliser-des-points-de-sauvegarde","title":"Utiliser des points de sauvegarde","text":"<p>Les points de sauvegarde permettent de revenir \u00e0 un \u00e9tat sp\u00e9cifique dans une transaction sans annuler toutes les op\u00e9rations.</p>"},{"location":"mysql/transactions/#savepoint","title":"SAVEPOINT","text":"<p>Pour cr\u00e9er un point de sauvegarde :</p> <pre><code>SAVEPOINT nom_du_savepoint;\n</code></pre> <p>Pour annuler les op\u00e9rations jusqu'\u00e0 un point de sauvegarde sp\u00e9cifique :</p> <pre><code>ROLLBACK TO SAVEPOINT nom_du_savepoint;\n</code></pre> <p>Exemple d'utilisation :</p> <pre><code>START TRANSACTION;\nINSERT INTO athlete (nom, prenom) VALUES ('Laurier', 'William');\nSAVEPOINT save_will;\nINSERT INTO athlete (nom, prenom) VALUES ('Laurier', 'Marianne');\nROLLBACK TO SAVEPOINT save_will;\nCOMMIT;\n</code></pre> <p>Dans cet exemple, seul l'enregistrement de William Laurier est conserv\u00e9.</p>"},{"location":"mysql/transactions/#commandes-qui-terminent-automatiquement-une-transaction","title":"Commandes qui terminent automatiquement une transaction","text":"<p>Certaines op\u00e9rations SQL terminent automatiquement une transaction en cours et agissent comme un <code>COMMIT</code> :</p> <ul> <li>Modifications de la structure de la base de donn\u00e9es.</li> <li>Cr\u00e9ation ou suppression de bases de donn\u00e9es, tables, index, vues, ou proc\u00e9dures stock\u00e9es.</li> <li>Modification de param\u00e8tres de configuration ou de s\u00e9curit\u00e9, comme les utilisateurs.</li> <li>D\u00e9marrage d'une nouvelle transaction sans cl\u00f4turer la pr\u00e9c\u00e9dente.</li> <li>Activation de l'autocommit.</li> </ul>"},{"location":"mysql/transactions/#sources","title":"Sources","text":"<ul> <li>https://dev.mysql.com/doc/refman/8.0/en/sql-transactional-statements.html</li> <li>https://www.javatpoint.com/mysql-transaction</li> <li>https://www.mysqltutorial.org/mysql-transaction.aspx</li> </ul>"},{"location":"mysql/types_jointures/","title":"Jointures","text":""},{"location":"mysql/types_jointures/#base-de-donnees-exemples","title":"Base de donn\u00e9es exemples","text":"<p>Le syst\u00e8me comprend deux tables : une table \"joueurs\" et une table \"guildes\". Les joueurs ont la possibilit\u00e9 d'appartenir ou non \u00e0 une guilde, tandis que chaque guilde peut avoir de z\u00e9ro \u00e0 plusieurs joueurs.  </p> <p></p> <p>Voici un script de cr\u00e9ation pour r\u00e9aliser les exemples suivants :  </p> <pre><code>CREATE DATABASE IF NOT EXISTS bd2_exemple  \nCOLLATE = 'utf8_unicode_520_ci';  \n\n\nUSE bd2_exemple;  \n\nDROP TABLE IF EXISTS guilde;\nCREATE TABLE guildes (\n    id INT AUTO_INCREMENT,\n    nom VARCHAR(30),\n    PRIMARY KEY (id)\n);\n\n\nINSERT INTO guildes (nom) \nVALUES ('SqlIsGod'), \n    ('Error404'), \n    ('IsNobodyHere');\n\nDROP TABLE IF EXISTS joueurs;\nCREATE TABLE joueurs (\n    id INT AUTO_INCREMENT,\n    guilde_id INT NULL,\n    nom VARCHAR(50),\n    prenom VARCHAR(50),\n    PRIMARY KEY (id),\n    CONSTRAINT guilde_fk FOREIGN KEY (guilde_id) \n        REFERENCES guilde (id) \n        ON UPDATE RESTRICT ON DELETE CASCADE\n);\n\nINSERT INTO joueurs (guilde_id, nom, prenom) \nVALUES (1, 'Simms', 'Jonah'), \n    (1, 'McNeill', 'Garrett'), \n    (2, 'Sosa', 'Amy'),\n    (null, 'Fox', 'Dina');\n</code></pre>"},{"location":"mysql/types_jointures/#contenu-des-deux-tables","title":"Contenu des deux tables","text":""},{"location":"mysql/types_jointures/#table-guildes","title":"Table guildes","text":"id nom 1 SqlIsGod 2 Error404 3 IsNobodyHere"},{"location":"mysql/types_jointures/#table-joueurs","title":"Table joueurs","text":"id guilde_id nom prenom 1 1 Simms Jonah 2 1 McNeill Garrett 3 2 Sosa Amy 4 NULL Fox Dina"},{"location":"mysql/types_jointures/#inner-join","title":"INNER JOIN","text":"<p>Une jointure <code>INNER JOIN</code> retournera tous les enregistrements correspondants entre deux tables.</p>"},{"location":"mysql/types_jointures/#exemple","title":"Exemple","text":"<pre><code>SELECT j.nom, j.prenom, g.nom AS guilde\nFROM joueurs j \n    INNER JOIN guildes g ON g.id = j.guilde_id;\n</code></pre>"},{"location":"mysql/types_jointures/#resultats","title":"R\u00e9sultats","text":"nom prenom guilde Simms Jonah SqlIsGod McNeill Garrett SqlIsGod Sosa Amy Error404"},{"location":"mysql/types_jointures/#left-join","title":"LEFT JOIN","text":"<p>Une jointure <code>LEFT JOIN</code> retournera tous les enregistrements de la table de gauche et seulement les enregistrements correspondant de la table de droite.</p>"},{"location":"mysql/types_jointures/#exemple_1","title":"Exemple","text":"<pre><code>SELECT j.nom, j.prenom, g.nom AS guilde\nFROM joueurs j \n    LEFT JOIN guildes g ON g.id = j.guilde_id;\n</code></pre>"},{"location":"mysql/types_jointures/#resultats_1","title":"R\u00e9sultats","text":"nom prenom guilde Simms Jonah SqlIsGod McNeill Garrett SqlIsGod Sosa Amy Error404 Fox Dina NULL"},{"location":"mysql/types_jointures/#right-join","title":"RIGHT JOIN","text":"<p>Une jointure <code>RIGHT JOIN</code> retournera tous les enregistrements de la table de droite et seulement les enregistrements correspondant de la table de gauche.</p>"},{"location":"mysql/types_jointures/#exemple_2","title":"Exemple","text":"<pre><code>SELECT j.nom, j.prenom, g.nom AS guilde\nFROM joueurs j \n    RIGHT JOIN guildes g ON g.id = j.guilde_id;\n</code></pre>"},{"location":"mysql/types_jointures/#resultats_2","title":"R\u00e9sultats","text":"nom prenom guilde Simms Jonah SqlIsGod McNeill Garrett SqlIsGod Sosa Amy Error404 NULL NULL IsNobodyHere"},{"location":"mysql/types_jointures/#union","title":"UNION","text":"<p>L'op\u00e9rateur <code>UNION</code> sert \u00e0 combiner les r\u00e9sultats de deux ou plusieurs requ\u00eates <code>SELECT</code>. Toutefois, il est essentiel de respecter les trois r\u00e8gles suivantes pour son utilisation :</p> <ul> <li>Chaque requ\u00eate <code>SELECT</code> doit comporter le m\u00eame nombre de colonnes.</li> <li>Les colonnes correspondantes dans les diff\u00e9rentes requ\u00eates doivent avoir des types de donn\u00e9es similaires.</li> <li>L'ordre des colonnes doit \u00eatre identique dans toutes les requ\u00eates. </li> </ul>"},{"location":"mysql/types_jointures/#syntaxe","title":"Syntaxe","text":"<pre><code>SELECT colonne1, colonne2 FROM table1\nUNION\nSELECT colonne3, colonne4 FROM table2;\n</code></pre> <p>Par d\u00e9faut, l'op\u00e9rateur <code>UNION</code> ne conserve que les valeurs uniques des r\u00e9sultats obtenus \u00e0 partir de multiples requ\u00eates. Pour inclure les doublons dans les r\u00e9sultats, il est n\u00e9cessaire d'ajouter le mot-cl\u00e9 <code>ALL</code>.</p> <pre><code>SELECT colonne1, colonne2 FROM table1\nUNION ALL\nSELECT colonne3, colonne4 FROM table2;\n</code></pre> <p>Le nom des colonnes dans le r\u00e9sultat de l'op\u00e9rateur <code>UNION</code> correspondra aux noms des colonnes sp\u00e9cifi\u00e9s dans la premi\u00e8re requ\u00eate.</p>"},{"location":"mysql/types_jointures/#outer-join","title":"OUTER JOIN","text":"<p>Une jointure de type <code>OUTER JOIN</code> retourne tous les enregistrements de deux tables. Bien que la commande <code>OUTER JOIN</code> ne soit pas directement utilisable en MySQL, il est possible d'obtenir un r\u00e9sultat \u00e9quivalent en combinant un <code>LEFT JOIN</code> et un <code>RIGHT JOIN</code>. Pour ce faire, r\u00e9alisez d'abord une requ\u00eate avec un <code>LEFT JOIN</code>, puis unissez-la \u00e0 une seconde requ\u00eate utilisant un <code>RIGHT JOIN</code>. </p>"},{"location":"mysql/types_jointures/#exemple_3","title":"Exemple","text":"<pre><code>SELECT j.nom, j.prenom, g.nom AS guilde\nFROM joueurs j \n    LEFT JOIN guildes g ON g.id = j.guilde_id\n\nUNION\n\nSELECT j.nom, j.prenom, g.nom AS guilde\nFROM joueurs j \n    RIGHT JOIN guildes g ON g.id = j.guilde_id;\n</code></pre>"},{"location":"mysql/types_jointures/#resultats_3","title":"R\u00e9sultats","text":"nom prenom guilde Simms Jonah SqlIsGod McNeill Garrett SqlIsGod Sosa Amy Error404 Fox Dina NULL NULL NULL IsNobodyHere"},{"location":"mysql/utilisateurs/","title":"Utilisateurs","text":"<p>Voici une version am\u00e9lior\u00e9e et structur\u00e9e de votre texte sur la gestion des utilisateurs dans MySQL, avec des clarifications pour faciliter la compr\u00e9hension et la mise en \u0153uvre :</p>"},{"location":"mysql/utilisateurs/#gestion-des-utilisateurs-dans-mysql","title":"Gestion des utilisateurs dans MySQL","text":"<p>Pour se connecter et interagir avec MySQL, chaque utilisateur doit disposer de credentials valides (nom d'utilisateur et mot de passe) ainsi que de privil\u00e8ges d\u00e9termin\u00e9s pour acc\u00e9der et manipuler la base de donn\u00e9es. Ces informations sont stock\u00e9es dans plusieurs tables syst\u00e8me de MySQL.</p>"},{"location":"mysql/utilisateurs/#tables-de-privileges","title":"Tables de privil\u00e8ges","text":"<ul> <li>user : contient les informations de base sur les utilisateurs.</li> <li>db, tables_priv, columns_priv, proc_priv : stockent les d\u00e9tails des privil\u00e8ges sur les bases de donn\u00e9es, tables, colonnes et proc\u00e9dures.</li> </ul> <p>Il est recommand\u00e9 d'utiliser des commandes SQL sp\u00e9cifiques pour g\u00e9rer ces privil\u00e8ges plut\u00f4t que de modifier directement les tables.</p>"},{"location":"mysql/utilisateurs/#creation-dun-utilisateur","title":"Cr\u00e9ation d'un utilisateur","text":"<p>Utilisez la commande <code>CREATE USER</code> pour cr\u00e9er un nouveau compte utilisateur. Vous pouvez sp\u00e9cifier le nom de l'utilisateur, l'h\u00f4te depuis lequel ils peuvent se connecter, et leur mot de passe. L'h\u00f4te peut \u00eatre sp\u00e9cifi\u00e9 pour restreindre d'o\u00f9 l'utilisateur peut se connecter. Utiliser <code>%</code> permet une connexion depuis n'importe quel h\u00f4te.</p> <pre><code>CREATE USER IF NOT EXISTS 'nomUtilisateur'@'h\u00f4te' IDENTIFIED BY 'motDePasse';\n</code></pre>"},{"location":"mysql/utilisateurs/#exemples","title":"Exemples","text":"<pre><code>CREATE USER IF NOT EXISTS 'luc'@'localhost' IDENTIFIED BY 'qwerty4ever';\nCREATE USER IF NOT EXISTS 'ray' IDENTIFIED BY 'qwerty4ever';\nCREATE USER IF NOT EXISTS 'patate'@'156.20.12.2' IDENTIFIED BY 'qwerty4ever';\n\n-- Permettre \u00e0 un utilisateur de se connecter depuis n'importe quel h\u00f4te commen\u00e7ant par 156.20.12\nCREATE USER IF NOT EXISTS 'luc'@'156.20.12.%' IDENTIFIED BY 'qwerty4ever';\n\n-- Permettre une connexion depuis n'importe quel h\u00f4te\nCREATE USER IF NOT EXISTS 'luc'@'%' IDENTIFIED BY 'qwerty4ever';\n</code></pre>"},{"location":"mysql/utilisateurs/#modification-du-nom-dun-utilisateur","title":"Modification du nom d'un utilisateur","text":"<p>Pour changer le nom d'un utilisateur existant, utilisez <code>RENAME USER</code> :</p> <pre><code>RENAME USER 'luc'@'localhost' TO 'lucie'@'localhost';\n</code></pre>"},{"location":"mysql/utilisateurs/#suppression-dun-utilisateur","title":"Suppression d'un utilisateur","text":"<p>Utilisez <code>DROP USER</code> pour supprimer un utilisateur :</p> <pre><code>DROP USER 'luc'@'localhost';\n</code></pre>"},{"location":"mysql/utilisateurs/#afficher-la-liste-des-utilisateurs","title":"Afficher la liste des utilisateurs","text":"<p>MySQL ne poss\u00e8de pas de commande <code>SHOW USERS</code>. Pour voir la liste des utilisateurs, vous pouvez ex\u00e9cuter une requ\u00eate <code>SELECT</code> sur la table <code>user</code> dans la base de donn\u00e9es <code>mysql</code> :</p> <pre><code>SELECT User, Host FROM mysql.user;\n</code></pre> <p>Cette requ\u00eate affiche tous les utilisateurs et les h\u00f4tes associ\u00e9s, permettant ainsi de visualiser qui peut acc\u00e9der au serveur MySQL.</p>"},{"location":"mysql/vues/","title":"Vues (Views)","text":"<p>En SQL, les vues permettent d'enregistrer une requ\u00eate fr\u00e9quemment utilis\u00e9e pour la r\u00e9utiliser ais\u00e9ment dans d'autres requ\u00eates. Une vue agit comme une requ\u00eate stock\u00e9e et nomm\u00e9e, accessible comme une table virtuelle.</p>"},{"location":"mysql/vues/#avantages-de-creer-une-vue","title":"Avantages de cr\u00e9er une vue","text":"<ul> <li>Simplification des requ\u00eates : Les vues permettent de r\u00e9duire la complexit\u00e9 des requ\u00eates en masquant les d\u00e9tails de la jointure et des calculs.</li> <li>S\u00e9curisation des donn\u00e9es : Les vues peuvent limiter l'acc\u00e8s \u00e0 certaines donn\u00e9es, ce qui est utile pour prot\u00e9ger les informations sensibles.</li> <li>Facilitation de la maintenance : Les modifications apport\u00e9es \u00e0 une vue se r\u00e9percutent sur toutes les requ\u00eates qui l'utilisent, simplifiant ainsi la maintenance.</li> </ul> <p>Il est important de noter que les vues ne sont pas un moyen d'optimiser les performances des requ\u00eates. Lorsqu'une vue est utilis\u00e9e dans une requ\u00eate, la requ\u00eate sous-jacente de la vue est ex\u00e9cut\u00e9e en premier, suivie de la requ\u00eate principale.</p>"},{"location":"mysql/vues/#creer-une-vue","title":"Cr\u00e9er une vue","text":"<p>Pour cr\u00e9er une vue, utilisez la syntaxe suivante :</p> <pre><code>CREATE [OR REPLACE] VIEW [nom_bd.]nom_view [(liste_colonne)]\nAS\nrequ\u00eate_select;\n</code></pre> <ul> <li>CREATE [OR REPLACE] : Si la vue existe d\u00e9j\u00e0, <code>OR REPLACE</code> permet de la remplacer.</li> <li>[nom_bd.]nom_view : Le nom de la vue doit \u00eatre unique dans la base de donn\u00e9es.</li> <li>[(liste_colonne)] : Les noms des colonnes de la vue peuvent \u00eatre sp\u00e9cifi\u00e9s; sinon, ils seront d\u00e9riv\u00e9s de la requ\u00eate SELECT.</li> <li>requ\u00eate_select : La requ\u00eate SELECT peut interroger des tables et d'autres vues.</li> </ul>"},{"location":"mysql/vues/#exemple","title":"Exemple","text":"<pre><code>CREATE OR REPLACE VIEW etudiants_informatique (nom_complet, da)\nAS \n    SELECT CONCAT(e.nom, ', ', e.prenom) AS nom_complet,\n           e.da\n    FROM etudiants e\n    JOIN etudiants_concentration ec ON ec.etudiant_id = e.id\n    JOIN concentrations c ON c.id = ec.concentration\n    WHERE c.description = 'Technique informatique';\n</code></pre> <p>Utilisation de la vue :</p> <pre><code>SELECT * \nFROM etudiants_informatique\nORDER BY da;\n</code></pre>"},{"location":"mysql/vues/#modifier-une-vue","title":"Modifier une vue","text":"<p>Pour modifier une vue, utilisez <code>CREATE OR REPLACE VIEW</code> ou <code>ALTER VIEW</code>. Les deux commandes modifient la vue existante :</p> <pre><code>ALTER VIEW nom_view [(liste_colonne)]\nAS requ\u00eate_select;\n</code></pre> <p>Note</p> <p>Le nom de la vue ne peut pas \u00eatre modifi\u00e9 directement par <code>ALTER VIEW</code>. Pour renommer une vue, utilisez :</p> <pre><code>RENAME TABLE ancien_nom_vue \nTO nouveau_nom_vue;\n</code></pre>"},{"location":"mysql/vues/#supprimer-une-vue","title":"Supprimer une vue","text":"<p>Pour supprimer une vue :</p> <pre><code>DROP VIEW [IF EXISTS] nom_vue;\n</code></pre> <p>L'option <code>IF EXISTS</code> permet d'\u00e9viter une erreur si la vue sp\u00e9cifi\u00e9e n'existe pas.</p> <p>Source</p> <ul> <li>https://dev.mysql.com/doc/refman/8.0/en/create-view.html</li> <li>https://www.mysqltutorial.org/mysql-views-tutorial.aspx</li> </ul>"},{"location":"outils/dbeaver/","title":"DBeaver","text":"<p>DBeaver est un outil de gestion de base de donn\u00e9es que nous utiliserons pour le cours. Il est gratuit, multiplateforme et supporte beaucoup de type de base de donn\u00e9es. </p> <ul> <li>T\u00e9l\u00e9chargez l'installateur ici : https://dbeaver.io</li> </ul>"},{"location":"outils/dbeaver/#creer-une-connexion-vers-mysql-avec-dbeaver","title":"Cr\u00e9er une connexion vers mysql avec DBeaver","text":"<p>Vous devez tout d'abord vous assurer que AMPPS est bien lanc\u00e9. </p> <p></p> <ol> <li>Ouvrez DBeaver</li> <li>Cliquez sur Database -&gt; New Database Connection</li> <li>S\u00e9lectionnez MySQL dans la liste</li> <li>Cliquez sur Next</li> <li>Dans le champ Host entrez <code>localhost</code></li> <li>Dans le champ Port entrez <code>3306</code></li> <li>Dans le champ Database entrez <code>mysql</code></li> <li>Dans le champ User name entrez <code>root</code></li> <li>Dans le champ Password entrez <code>mysql</code></li> <li>Cliquer sur Test Connection pour v\u00e9rifier que la connexion fonctionne</li> <li>Cliquez sur Finish</li> </ol>"},{"location":"outils/drawio/","title":"Draw.io","text":"<p>Draw.io est un logiciel de cr\u00e9ation de diagramme. Il en existe une version en ligne et desktop, je vous conseille d'installer la version desktop.</p> <ul> <li>Version en ligne : https://app.diagrams.net/</li> <li>Version desktop : https://www.drawio.com/</li> </ul>"},{"location":"python/installation/","title":"Installation de Python","text":"<p>T\u00e9l\u00e9chardez la derni\u00e8re version de Python disponible pour votre syst\u00e8me \u00e0 cette adresse https://www.python.org/downloads/.</p> <p>Ex\u00e9cutez le fichier t\u00e9l\u00e9charg\u00e9 et au premier \u00e9cran de l'installateur assurez-vous de bien cocher l'option ==\"Add python.exe to PATH\"== dans le bas.</p> <p></p> <p>Ouvrez ensuite un terminal et entrez la commande suivante pour v\u00e9rifier que Python est bien install\u00e9 : </p> <pre><code>py --version\n</code></pre> <p>Vous pouvez aussi voir la liste de toutes les versions install\u00e9es ainsi que leur r\u00e9pertoire d'installation avec la commande :</p> <pre><code>py -0p\n</code></pre> <p>Dans cet exemple j'ai deux version d'install\u00e9e et on voit que la 3.12 est la version active.</p> <p></p>"},{"location":"python/installation/#executer-votre-premier-programme-python","title":"Ex\u00e9cuter votre premier programme Python","text":"<p>Pour lancer un programme Python il suffit de faire la commande py suivie du nom du fichier dans un terminal. Si vous codez avec vsCode je vous conseille d'installer les extensions suivantes : </p> <ul> <li>Python par Microsoft : https://marketplace.visualstudio.com/items?itemName=ms-python.python</li> <li>Pylance par Microsoft : https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-pylance</li> </ul> <p>Cr\u00e9er un fichier nomm\u00e9 hello.py et copiez-y le code suivant : </p> hello.py<pre><code>print(\"Hello\")\n</code></pre> <p>Tentez de l'ex\u00e9cuter depuis la console et ensuite depuis vsCode en cliquant sur l'icone Play en haut \u00e0 droite de la fen\u00eatre du fichier.</p>"},{"location":"python/installation/#supprimer-python","title":"Supprimer Python","text":"<p>On peut supprimer une version de Python facilement en passant par la suppression des programmes Windows, elle va \u00eatre dans la liste des programmes install\u00e9s. Parcontre vous devriez aussi aller v\u00e9rifier ensuite dans les variables d'environnement car Python y ajoute des r\u00e9f\u00e9rences qui ne sont pas toujours supprim\u00e9es.</p>"},{"location":"python/mysql_connector/","title":"MySQL Connector pour python","text":"<p>Pour nous permettre de communiquer avec notre base de donn\u00e9es MySQL depuis nos programmes Python on va utiliser la librairie MySQL Connector.</p>"},{"location":"python/mysql_connector/#installation","title":"Installation","text":"<p>En ligne de commande </p> <pre><code>pip install mysql-connector-python\n</code></pre>"},{"location":"python/mysql_connector/#utilisation","title":"Utilisation","text":"<p>Premi\u00e8rement on doit importer la librairie MySQL Connector. Ensuite on cr\u00e9e une connexion vers la base de donn\u00e9es dans laquelle on veut travailler. On va aussi d\u00e9clarer un curseur qui va s'occuper d'ex\u00e9cuter les requ\u00eates. Finalement on doit refermer le curseur et la connexion \u00e0 la base de donn\u00e9es. </p> <p>Voici un petit exemple de programme Python qui ex\u00e9cute une requ\u00eate SELECT et qui affiche ensuite \u00e0 la console le r\u00e9sultat obtenue.</p> select_exemple.py<pre><code># Importation de la librairie mysql.connector\nimport mysql.connector\n\n# Cr\u00e9ation de la connexion \u00e0 la base de donn\u00e9es\ncnx = mysql.connector.connect(\n    user='root', \n    password='********',\n    host='localhost',\n    database='bd2_ex10')\n\n# Cr\u00e9ation du curseur\n# Le param\u00eatre dictionary=True permet de faire \n# r\u00e9f\u00e9rence aux champs du r\u00e9sultat par leur nom\ncursor = cnx.cursor(dictionary=True)\n\n# Stockage de la requ\u00eate dans une variable\nquery = \"SELECT nom FROM houblon h ORDER BY nom;\"\n\n# Ex\u00e9cution de la requ\u00eate\ncursor.execute(query)\n\n# Affichage des r\u00e9sultats\nfor (ligne) in cursor:\n    print(ligne[\"nom\"])\n\n# Fermeture du curseur et de la connexion\ncursor.close()\ncnx.close()\n</code></pre> <p>Le r\u00e9sultat contenu dans le curseur est un tableau de toutes les lignes du r\u00e9sultat dont chaque \u00e9l\u00e9ment est aussi un tableau qui contient chaque colonne de la ligne. Dans l'exemple plus haut chaque \u00e9l\u00e9ment du tableau est un tableau d'un item, la colonne nom.</p> <p>Note</p> <p>Quand vous ex\u00e9cutez une requ\u00eate INSERT, UPDATE ou DELETE vous devez faire un commit pour que les modifications soit sauvegard\u00e9es. Utilisez la fontion commit() de votre objet connexion.</p> <p>Voici un autre exemple qui supprime un \u00e9l\u00e9ment d'une table. Dans cet exemple on voit comment passer des param\u00e8tres \u00e0 la requ\u00eate et faire une gestion d'erreurs avec un try ... catch.</p> delete_exemple.py<pre><code>import mysql.connector\n\nhoulon_id = 1;\n\nhoublonDelete = False\nrequete = \"DELETE FROM houblon WHERE id = %(houblon_id)s\"\nparametres = {'houblon_id' : houlon_id}\n\ntry:\n    connexion = mysql.connector.connect(\n      user='root', \n      password='r00t_bd2',\n      host='localhost',\n      database='bd2_ex10')\n    cursor = connexion.cursor()\n\n    # Ex\u00e9cution de la requ\u00eate avec passage de param\u00e8tres\n    cursor.execute(requete, parametres)\n    # Validation de la transaction\n    connexion.commit()\n\n    houblonDelete = True\nexcept mysql.Error as erreur:\n    print(erreur)\nfinally:\n    cursor.close()\n    connexion.close()\n</code></pre>"},{"location":"python/mysql_connector/#documentation","title":"Documentation","text":"<ul> <li>Documentation officielle</li> <li>Documentation sur W3Schools</li> </ul>"},{"location":"python/pip/","title":"PIP - Gestionnaire de paquets Python","text":""},{"location":"python/pip/#introduction-a-pip","title":"Introduction \u00e0 PIP","text":"<p>PIP (Pip Installs Packages) est le gestionnaire de paquets officiel pour Python. Il permet aux d\u00e9veloppeurs d'installer et de g\u00e9rer des biblioth\u00e8ques et des d\u00e9pendances suppl\u00e9mentaires qui ne sont pas distribu\u00e9es dans la biblioth\u00e8que standard de Python.</p>"},{"location":"python/pip/#principe-des-paquets","title":"Principe des paquets","text":"<ol> <li> <p>D\u00e9finition d'un paquet :</p> <ul> <li>Un paquet en Python est une collection de modules qui peut inclure des biblioth\u00e8ques compil\u00e9es, des modules Python, des fichiers de donn\u00e9es, etc.</li> <li>Les paquets sont con\u00e7us pour offrir une fonctionnalit\u00e9 sp\u00e9cifique et peuvent \u00eatre r\u00e9utilis\u00e9s dans diff\u00e9rents projets.</li> </ul> </li> <li> <p>Avantages des paquets :</p> <ul> <li>R\u00e9utilisabilit\u00e9 : Les paquets peuvent \u00eatre utilis\u00e9s dans plusieurs projets sans avoir \u00e0 r\u00e9\u00e9crire le code.</li> <li>Organisation : Ils aident \u00e0 garder le code organis\u00e9 et modulaire.</li> <li>Communaut\u00e9 : Beaucoup de paquets sont d\u00e9velopp\u00e9s et maintenus par la communaut\u00e9, ce qui enrichit les ressources disponibles pour tous les d\u00e9veloppeurs Python.</li> </ul> </li> </ol>"},{"location":"python/pip/#comment-utiliser-pip","title":"Comment utiliser PIP?","text":"<ol> <li> <p>Installer PIP :</p> <ul> <li>PIP est g\u00e9n\u00e9ralement install\u00e9 par d\u00e9faut avec Python. Si n\u00e9cessaire, il peut \u00eatre install\u00e9 ou mis \u00e0 jour via :  <pre><code>python -m ensurepip --upgrade\n</code></pre></li> </ul> </li> <li> <p>Installer des paquets :</p> <ul> <li>Pour installer un paquet via PIP :  <pre><code>pip install nom_paquet\n</code></pre></li> <li>Pour installer une version sp\u00e9cifique d'un paquet :  <pre><code>pip install nom_paquet==version\n</code></pre></li> </ul> </li> <li> <p>Lister les paquets install\u00e9s :</p> <ul> <li>Pour voir tous les paquets install\u00e9s dans l'environnement Python actif :  <pre><code>pip list\n</code></pre></li> </ul> </li> <li> <p>Mettre \u00e0 jour et supprimer des paquets :</p> <ul> <li>Mettre \u00e0 jour un paquet :  <pre><code>pip install --upgrade nom_paquet\n</code></pre></li> <li>Supprimer un paquet :  <pre><code>pip uninstall nom_paquet\n</code></pre></li> </ul> </li> </ol>"},{"location":"python/pip/#utilisation-de-requirementstxt-pour-linstallation-des-dependances","title":"Utilisation de <code>requirements.txt</code> pour l'installation des d\u00e9pendances","text":"<ol> <li> <p>Cr\u00e9ation de <code>requirements.txt</code> :</p> <ul> <li>Ce fichier contient une liste de paquets n\u00e9cessaires pour le projet, souvent avec les versions sp\u00e9cifiques pour garantir la compatibilit\u00e9.</li> <li>Le format standard est <code>nom_paquet==version</code>.</li> <li>Exemple de contenu pour <code>requirements.txt</code> :  <pre><code>flask==1.1.2\nrequests==2.23.0\nnumpy==1.18.5\n</code></pre></li> </ul> </li> <li> <p>Installer les d\u00e9pendances avec <code>requirements.txt</code> :</p> <ul> <li>Pour installer toutes les d\u00e9pendances list\u00e9es dans le fichier :  <pre><code>pip install -r requirements.txt\n</code></pre></li> </ul> </li> </ol>"},{"location":"python/pip/#bonnes-pratiques-avec-pip","title":"Bonnes pratiques avec PIP","text":"<ul> <li> <p>Utiliser des environnements virtuels :</p> <ul> <li>Toujours utiliser PIP \u00e0 l'int\u00e9rieur d'un environnement virtuel pour \u00e9viter les conflits entre les d\u00e9pendances des diff\u00e9rents projets.</li> </ul> </li> <li> <p>Garder <code>requirements.txt</code> \u00e0 jour :</p> <ul> <li>Mettre \u00e0 jour r\u00e9guli\u00e8rement <code>requirements.txt</code> pour inclure les nouvelles d\u00e9pendances et supprimer celles qui ne sont plus utilis\u00e9es.</li> </ul> </li> <li> <p>S\u00e9curit\u00e9 :</p> <ul> <li>Faire attention aux paquets que vous installez. Privil\u00e9gier les paquets bien maintenus et reconnus pour \u00e9viter les probl\u00e8mes de s\u00e9curit\u00e9.</li> </ul> </li> </ul>"},{"location":"python/pip/#conclusion","title":"Conclusion","text":"<p>PIP est un outil essentiel pour tout d\u00e9veloppeur Python, simplifiant la gestion des d\u00e9pendances et facilitant le partage de code entre projets. En utilisant PIP et <code>requirements.txt</code>, les d\u00e9veloppeurs peuvent assurer une gestion efficace et s\u00e9curis\u00e9e des biblioth\u00e8ques externes.</p>"},{"location":"python/venv/","title":"Environnement virtuel","text":""},{"location":"python/venv/#gestion-des-environnements-virtuels-en-python","title":"Gestion des environnements virtuels en Python","text":""},{"location":"python/venv/#introduction-a-lenvironnement-virtuel","title":"Introduction \u00e0 l'environnement virtuel","text":"<p>Un environnement virtuel en Python est un espace isol\u00e9 qui permet de g\u00e9rer s\u00e9par\u00e9ment les d\u00e9pendances pour diff\u00e9rents projets. Utiliser un environnement virtuel assure que chaque projet peut avoir ses propres d\u00e9pendances, ind\u00e9pendamment des biblioth\u00e8ques install\u00e9es globalement.</p>"},{"location":"python/venv/#pourquoi-creer-un-environnement-virtuel","title":"Pourquoi cr\u00e9er un environnement virtuel?","text":"<ol> <li>Isolation : Chaque projet peut avoir ses propres d\u00e9pendances, m\u00eame si ces derni\u00e8res entrent en conflit entre diff\u00e9rents projets.</li> <li>Contr\u00f4le des versions : Vous pouvez tester diff\u00e9rentes versions d'une biblioth\u00e8que sans affecter les autres projets.</li> <li>Simplicit\u00e9 : Facilite la gestion des biblioth\u00e8ques et des d\u00e9pendances.</li> <li>Compatibilit\u00e9 : Aide \u00e0 maintenir la compatibilit\u00e9 entre le d\u00e9veloppement et les environnements de production.</li> </ol>"},{"location":"python/venv/#comment-creer-un-environnement-virtuel","title":"Comment cr\u00e9er un environnement virtuel?","text":"<ol> <li> <p>Installer le paquet <code>virtualenv</code> si ce n'est pas d\u00e9j\u00e0 fait :    <pre><code>pip install virtualenv\n</code></pre></p> </li> <li> <p>Cr\u00e9er l'environnement virtuel :</p> </li> <li>Naviguez dans votre r\u00e9pertoire de projet :      <pre><code>cd mon_projet\n</code></pre></li> <li>Cr\u00e9ez l'environnement virtuel :      <pre><code>python -m venv nom_env\n</code></pre></li> <li><code>nom_env</code> est le nom du dossier qui contiendra l'environnement virtuel.</li> </ol>"},{"location":"python/venv/#comment-cctiver-lenvironnement-virtuel","title":"Comment cctiver l'environnement virtuel?","text":"<ul> <li>Windows :   <pre><code>.\\nom_env\\Scripts\\activate\n</code></pre></li> <li>macOS et Linux :   <pre><code>source nom_env/bin/activate\n</code></pre></li> <li>Une fois activ\u00e9, votre prompt changera pour refl\u00e9ter le nom de l'environnement activ\u00e9.</li> </ul>"},{"location":"python/venv/#comment-utiliser-lenvironnement-virtuel","title":"Comment utiliser l'environnement virtuel?","text":"<ul> <li>Une fois l'environnement activ\u00e9, vous pouvez installer des paquets sp\u00e9cifiques \u00e0 l'environnement en utilisant <code>pip</code>, comme vous le feriez normalement :   <pre><code>pip install nom_paquet\n</code></pre></li> <li>Tout paquet install\u00e9 lors de l'activation de l'environnement sera isol\u00e9 des autres environnements.</li> </ul>"},{"location":"python/venv/#comment-desactiver-lenvironnement-virtuel","title":"Comment d\u00e9sactiver l'environnement virtuel?","text":"<ul> <li>Pour sortir de l'environnement virtuel et retourner \u00e0 l'environnement global de Python :   <pre><code>deactivate\n</code></pre></li> </ul>"},{"location":"python/venv/#comment-exclure-le-dossier-denvironnement-dans-gitignore","title":"Comment exclure le dossier d'environnement dans <code>.gitignore</code>?","text":"<ul> <li>Pour \u00e9viter que l'environnement virtuel ne soit suivi par Git, ajoutez le dossier de l'environnement virtuel \u00e0 votre fichier <code>.gitignore</code> :   <pre><code>nom_env/\n</code></pre></li> <li>Remplacez <code>nom_env</code> par le nom r\u00e9el de votre dossier d'environnement.</li> </ul>"},{"location":"python/venv/#conclusion","title":"Conclusion","text":"<p>Les environnements virtuels sont essentiels pour une gestion efficace des projets Python, permettant de garder les d\u00e9pendances requises organis\u00e9es et isol\u00e9es. Ils simplifient \u00e9galement la collaboration entre d\u00e9veloppeurs en s'assurant que tous les membres de l'\u00e9quipe travaillent avec les m\u00eames versions de d\u00e9pendances.</p>"}]}